/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit', './DvtPanZoomCanvas'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

  // Map the D namespace to dvt, which is used to provide access across partitions.
  var D = dvt;
  
D.tS=function(a,b,c){this.Init(a,b,c)};(0,D.ca)("DvtAmxThematicMap",D.tS);D.w.l(D.tS,D.B,"DvtAmxThematicMap");D.tS.JB=10;D.tS.prototype.Init=function(a,b,c){D.tS.o.Init.call(this,a);this.aa=new D.uS(a,b,c);this.cZ=new D.B(a);this.cZ.k(this.aa);this.k(this.cZ);this.pf=new D.vS};D.tS.newInstance=function(a,b,c){return new D.tS(a,b,c)};D.tS.newInstance=D.tS.newInstance;D.tS.prototype.P=function(a,b,c){this.D=this.pf.Tj(a);this.Ba=b;this.Ea=c;b=new D.y(0,0,b,c);this.XC(this,b);this.aa.P(a,b.e,b.g)};
D.tS.prototype.render=D.tS.prototype.P;
D.tS.prototype.XC=function(a,b){this.Cb&&(a.removeChild(this.Cb),this.Cb=null);var c=new D.y(D.tS.JB,D.tS.JB,b.e-2*D.tS.JB,b.g-2*D.tS.JB),d=this.D,e=d.legend.rendered,f=d.legend.scrolling,g=D.il.Y(d.legend);this.V3(this.D,g);if(e&&!(g.pNa&&0==g.pNa.length)){e=d.legend.position;delete g.position;g.layout.gapRatio=(0,D.wS)(this);g.hideAndShowBehavior="none";g.rolloverBehavior="none";g.scrolling=d.legend.scrolling;var h=(0,D.rn)(this.aa.j());a.k(h);"auto"==e&&"asNeeded"!==f?e="bottom":"auto"==e&&"asNeeded"==
f&&(e="end");f=(0,D.D)(a.j());"start"==e?e=f?"right":"left":"end"==e&&(e=f?"left":"right");g.orientation="left"==e||"right"==e?"vertical":"horizontal";f="top"==e||"bottom"==e;f=h.Bp(g,f?c.e:d.layout.legendMaxSize*c.e,f?d.layout.legendMaxSize*c.g:c.g);if(0<f.e&&0<f.g)switch(h.P(g,f.e,f.g),this.Cb=h,d=window.Math.ceil(d.layout.legendGap*(0,D.wS)(this)),(0,D.pn)(c,e,h,f.e,f.g,d),e){case "top":this.cZ.O(f.g+D.tS.JB);case "bottom":b.g-=f.g+D.tS.JB;break;case "left":this.cZ.I(f.e+D.tS.JB);case "right":b.e-=
f.e+D.tS.JB}}};D.wS=function(a){if(null!==a.D.layout.gapRatio&&!(0,window.isNaN)(a.D.layout.gapRatio))return a.D.layout.gapRatio;var b=window.Math.min(a.Ba/400,1);a=window.Math.min(a.Ea/300,1);return window.Math.min(b,a)};D.tS.prototype.V3=function(a,b){b.title=a.legend?a.legend.title:null;b.sections=[];if(a&&a.legend&&a.legend.sections)for(var c=0;c<a.legend.sections.length;c++){var d=a.legend.sections[c];d&&b.sections.push({title:d.title,items:d.items,sections:d.sections})}return b};
D.uS=function(a,b,c){this.Init(a,b,c)};(0,D.ca)("DvtThematicMap",D.uS);D.w.l(D.uS,D.ep,"DvtThematicMap");
D.uS.prototype.Init=function(a,b,c){D.uS.o.Init.call(this,a,b,c);(0,D.eT)(this);this.Af=[];this.vz=[];this.kDa=this.ux=this.Vc=this.Cb=null;this.l4=!1;this.fP=[];this.BP={};this.gY=!1;this.vW={};this.Y4={};this.Ro=[];this.h4=new D.B(this.j());this.SO=new D.B(this.j());this.sz=new D.B(this.j());this.sx=new D.B(this.j());this.MK=this.QG=this.i7=!1;this.AX=6;this.Iz=!0;this.aL={};this.tV=!1;this.md=null;this.$n=16777215;this.pf=new D.vS;this.fb.Fa(this,this);this.we=!1};
D.uS.newInstance=function(a,b,c){return new D.uS(a,b,c)};D.uS.prototype.ud=function(a){D.uS.o.ud.call(this,a);(0,D.Sk)()||(this.D.animationOnDisplay="none",this.D.animationOnMapChange="none",this.D.animationOnDrill="none");(new D.fT(this)).parse(this.D)};D.uS.prototype.la=(0,D.s)("fb");D.gT=function(a,b){for(var c=0;c<a.Af.length;c++)if(a.Af[c].Gh==b)return a.Af[c]};D.u=D.uS.prototype;D.u.mw=function(a){this.Uy=(0,window.parseFloat)(a)};D.u.xa=(0,D.s)("Uy");
D.u.U0=function(a){a=(0,window.parseInt)(a);var b=this.$n;if(1==a||3==a||5==a||7==a)b&=-17,this.MK=!1;if(2==a||3==a||6==a||7==a)b&=-4098,this.QG=!1;if(4==a||5==a||6==a||7==a)b&=-257;this.$n=b};D.u.ida=function(a){this.dn=a;this.fb.ida(a)};
D.u.FI=function(){D.uS.o.FI.call(this);!this.sq&&this.CEa&&(this.Af=[],this.fP=[],this.BP={},this.vW={},this.Y4={},this.Ro=[],this.removeChild(this.Vc),this.kDa=this.ux=this.Cb=this.Vc=null,this.$n=16777215,this.MK=this.QG=!0,this.EK=this.Jb,this.h4=new D.B(this.j()),this.SO=new D.B(this.j()),this.sz=new D.B(this.j()),this.sx=new D.B(this.j()),this.md=null,this.fb.ei(this),(0,D.eT)(this),this.tV=!1,this.fb.Ac(),this.fb.Fa(this,this))};
D.eT=function(a){a.fb=new D.hT(a.j(),a.dispatchEvent,a);a.fb.le(a);(0,D.Ef)()?a.CC=null:(a.CC=new D.iT(a,a.fb),(0,D.rj)(a.fb,a.CC))};D.u=D.uS.prototype;D.u.Wua=function(a){(0,D.D)(this.j())||(a=this.getWidth()-5-a.getWidth(),this.Vc.I(a))};
D.u.XC=function(){if(this.ux){this.Vc&&(this.Vc.Q(),this.removeChild(this.Vc));var a="true"==this.ux.disclosed,b="fixed"==this.ux.display||(0,D.Be)();if(!b||a){var c=this.ux.maxWidth,d=c.indexOf("%"),c=-1!=d?(0,window.parseFloat)(c.substring(0,d))/100*this.getWidth():(0,window.parseFloat)(c),d=this.getHeight()-10;"alta"==this.mc?(this.Vc=new D.jr(this.j(),null,this,"pd"),this.Vc.ka("dvtPanelDrawerEvent",this.afa,!1,this),this.Vc.uu(c),this.Vc.nT(d),this.Vc.Hz=b,(0,D.D)(this.j())?(this.Vc.Zu="right",
this.Vc.I(0)):this.Vc.I(this.getWidth())):(this.Vc=new D.zu(this.j(),c,d,"col_northeast",(0,D.mr)(this),this.hs(),a,b),this.Vc.ka("dvtCollapsiblePanelEvent",this.afa,!1,this),this.Vc.ka("dvtResizeEvent",this.Wua,!1,this),c=this.Vc,d=this.ux.collapseTooltip,c.lP=this.ux.expandTooltip,c.FO=d);c=this.ux;this.Cb=(0,D.rn)(this.j(),this.Jca,this);this.k(this.Vc);this.k(this.Cb);d=this.Cb.Bp(c,this.Vc.aS(),this.Vc.YL());this.Cb.P(c,d.e,d.g);var e;if("alta"==this.mc){(0,D.lr)(this.Vc,this.Cb.es().g);this.removeChild(this.Cb);
var c=new D.Pe(this.j(),(0,D.mr)(this).legendEna,0,0,24,24),d=new D.Pe(this.j(),(0,D.mr)(this).legendOvr,0,0,24,24),f=new D.Pe(this.j(),(0,D.mr)(this).legendDwn,0,0,24,24),g=(0,D.P)("DvtUtilBundle","LEGEND");(0,D.nr)(this.Vc,this.Cb,c,d,f,g,"legend");this.Vc.hr();a&&this.Vc.wf(!0,!0)}else e=this.Vc,a=this.Cb,e.rJ.k(a),a.ka("dvtResizeEvent",e.o2,!1,e),a=e.rJ.F(),e.Ba=window.Math.min(e.Sh,a.e+10),e.Ea=window.Math.min(e.Li,a.g+10),e.Na?(e.Na.Bj((0,D.UP)(e,e.Ba,e.Ea)),a="col_northwest"==e.Nj||"col_southwest"==
e.Nj,e.fj&&a&&e.fj.I(e.Ba)):(a=new D.Dh(e.j(),(0,D.UP)(e,e.Ba,e.Ea)),c=e.Z.borderAlpha,a.pa(e.jz,e.km),a.Qa(e.Ws,c),e.Na=a,e.Ma(e.Na,0),e.Hz||(e.fj=D.pC.$$(e.j(),25,e.Z,!1),e.fj.B(e.Z.borderAlpha),e.k(e.fj),a="col_northwest"==e.Nj||"col_southwest"==e.Nj,e.mm=e.isCollapsed()?D.V.FZ(e.j(),e.Wn,25,e.Z,a?D.V.mB:D.V.xw):D.V.DZ(e.j(),e.Wn,25,e.Z,a?D.V.mB:D.V.xw),e.fj.k(e.mm),e.fj.I(a?e.Ba:-10),(0,D.Ef)()?e.mm.ka(D.eh,e.AI,!1,e):(e.mm.ka(D.dk,e.AI,!1,e),e.mm.ka(D.Oz,e.H2,!1,e),e.mm.ka(D.Pz,e.G2,!1,e)))),
e.PV&&(0,D.VP)(e,!1),e=this.Vc.F(),a=(0,D.D)(this.j())?5:this.getWidth()-5-e.e-e.x,(0,D.ik)(this.Vc,a,5),e.e+=5;if(this.ola=b)e||(e=this.Vc.F()),this.L7=e.e,this.Jb.Dk(this.getWidth()-this.L7,this.getHeight(),!0)}}};
D.u.Gj=function(){D.uS.o.Gj.call(this);var a=new D.B(this.j()),b=new D.B(this.j());this.Jb=this.da;this.Jb.k(a);this.Jb.ba.k(b);this.Sj(a,b);if(this.Vk){(this.Qc=this.Jb.Qc)&&this.Jb.k(this.Qc);(0,D.jT)(this);b=new D.y(0,0,this.getWidth(),this.getHeight());if(!this.we&&!this.EK)D.Xk.isSupported(this.Pha)&&(this.Sa=D.Xk.$x(this.j(),this.Pha,this.Jb,b,this.Uy));else{var c=null;this.l4&&!this.sq?c=this.Aza:this.Vk&&this.Vk.Gh!=this.QDa&&(c=this.Vk.Mq());D.Xk.isSupported(c)&&(this.Sa=D.Xk.mD(this.j(),
c,this.EK,this.Jb,b,this.Uy))&&this.k(this.EK)}this.Sa?(this.Qc&&this.k(this.Qc),this.fb.Ac(),this.fb.ei(this),this.tV=!0,this.Sa.he(this.pr,this),this.Sa.play()):this.pr();this.CEa=a;this.Vk&&(this.QDa=this.Vk.Gh);(0,D.Kl)(this.j(),[this]);this.we=!0}};
D.u.Sj=function(a,b){this.XC();b.k(this.h4);b.k(this.SO);this.Iz?a.k(this.sz):b.k(this.sz);a.k(this.sx);var c=this.Jb.ba.ua();this.z$=!1;for(var d=0;d<this.Af.length;d++){var e=this.Af[d];if(!this.z$&&e instanceof D.FS||!(e instanceof D.FS))e.P(c),!this.z$&&e instanceof D.FS&&(this.z$=!0,this.Vk=e)}this.Vk&&(c=this.Vk.hK,this.hK!=c&&(this.hK=c,this.h7=this.ela=this.dla=null),this.CC&&(c=(0,D.RS)(this),0==c.length&&(c=(0,D.dT)(this)),(c=c[0])&&D.hT.o.ts.call(this.fb,c)),this.Jb.ow(null),this.Jb.vu(null),
this.Jb.Tn=!0,this.Jb.hi=!0,!this.l4&&!this.sq&&null!=this.h7?((0,D.Hr)(this.Jb,this.h7),(0,D.Kr)(this.Jb,this.dla,this.ela)):this.Jb.Fo(null,this.Vk.lH()),(0,D.kT)(this),(0,D.lT)(this),this.Jb.Tn=this.QG,this.Jb.hi=this.MK)};D.u.QNa=function(a,b,c){this.we=!1;(0,D.jT)(this);(0,D.mT)(new D.fT(this),[a],(0,D.gT)(this,b),this.Vk.Gh,c);this.XC();this.we=!0;this.CC&&(a=(0,D.RS)(this),0==a.length&&(a=(0,D.dT)(this)),(a=a[0])&&D.hT.o.ts.call(this.fb,a));(0,D.Kl)(this.j(),[this]);(0,D.lT)(this)};
D.uS.prototype.updateLayer=D.uS.prototype.QNa;D.lT=function(a){var b;b=a.Jb.Hq;var c=a.Vk.lH(),d=a.Jb.Sc();b=window.Math.min((d.e-2*b)/c.e,(d.g-2*b)/c.g);a.Jb.ow(b);a.Jb.vu(b*(a.QG?a.AX:1))};D.bT=function(a){a.Vk.hK&&a.Jb.Fo(null,a.Vk.lH());(0,D.kT)(a);a.i7&&(0,D.nT)(a)};D.uS.prototype.oda=(0,D.q)("C9");D.oT=function(a,b){var c=new D.bj;c.translate(b.pc,b.nc);a.Iz&&a.sz.za(c);a.sx.za(c)};D.uS.prototype.afa=function(a){var b=new D.Xq;(0,D.xl)(b,"isLegendDisclosed","show"==a.vj());this.dispatchEvent(b)};
D.pT=function(a,b,c){if(b=b.J){var d=a.Jb.ba,e=(0,D.qp)(b,d,d.ua);c&&(a.ija=d.ua(),(0,D.T)(b,"typeMatrix",a,a.FBa,a.SFa,e));c=new D.bj(1,0,0,1,e.pc,e.nc);a.Iz&&(0,D.T)(b,"typeMatrix",a.sz,a.sz.ua,a.sz.za,c);(0,D.T)(b,"typeMatrix",a.sx,a.sx.ua,a.sx.za,c)}};
D.uS.prototype.mh=function(a){switch(a.vj()){case "adjustPanConstraints":if(this.MK){var b=a.ov;a=this.Jb.Hq;var c=this.Jb.Sc();a=new D.y(a,a,c.e-2*a,c.g-2*a);var d=this.Vk.lH(),e=d.x*b,c=d.y*b,f=d.e*b,b=d.g*b,d=0;f>a.e?(this.ola&&(0,D.D)(this.j())&&(d=this.L7),this.Jb.vt=a.x+a.e+d-(e+f),this.Jb.tt=a.x-e+d):(this.ola&&(0,D.D)(this.j())&&(d=2*this.L7),e=(a.x+a.e+d)/2-(e+f/2),this.Jb.vt=e,this.Jb.tt=e);b>a.g?(this.Jb.wt=a.y+a.g-(c+b),this.Jb.ut=a.y-c):(a=(a.y+a.g)/2-(c+b/2),this.Jb.wt=a,this.Jb.ut=
a)}break;case "zooming":case "elasticAnimBegin":(0,D.pT)(this,a,!0);break;case "zoomed":if(null!=a.ov){c=this.Jb.ba.ua();(0,D.xl)(a,"panX",c.pc);(0,D.xl)(a,"panY",c.nc);a.J=null;this.dispatchEvent(a);(0,D.oT)(this,c);for(b=0;b<this.Af.length;b++)this.Af[b].mh(a,c)}break;case "zoomAndCenter":(0,D.qT)(this);break;case "zoomToFitEnd":this.dispatchEvent(new D.NC)}};
D.uS.prototype.Bw=function(a){var b=a.vj();if("elasticAnimBegin"==b)(0,D.pT)(this,a,!1);else if("panned"==b&&null!=a.Dma){var c=this.Jb.ba.ua();(0,D.xl)(a,"zoom",this.Jb.Bd());(0,D.xl)(a,"panX",c.pc);(0,D.xl)(a,"panY",c.nc);a.J=null;this.dispatchEvent(a);(0,D.oT)(this,c);for(a=0;a<this.Af.length;a++)this.Af[a].Bw(c)}this.Vc&&("alta"==this.mc?"dragPanBegin"===b?this.Vc.qa(!1):"dragPanEnd"===b&&this.Vc.qa(!0):(c=this.hs(),a=this.Vc.Na.Yb().Y(),"dragPanBegin"===b?(this.Cb.B(c.backgroundDragAlpha),a.B(c.borderDragAlpha),
this.Vc.Na.V(a),this.Vc.fj&&this.Vc.fj.B(c.borderDragAlpha),this.Vc.qa(!1)):"dragPanEnd"===b&&(this.Cb.B(1),a.B(c.borderAlpha),this.Vc.Na.V(a),this.Vc.fj&&this.Vc.fj.B(c.borderAlpha),this.Vc.qa(!0))))};D.uS.prototype.qB=function(){return"none"==this.dn&&!this.QG&&(!this.MK||"alta"==this.mc)?"hidden":D.uS.o.qB.call(this)};D.uS.prototype.ST=function(){var a=this.qB();return"hidden"!=a?new D.rT(this.j(),this,"initCollapsed"==a?1:2):null};
D.kT=function(a){a.gY=!0;for(var b=0;b<a.Af.length;b++){var c=a.Af[b].Gh;c in a.BP&&(a.aL[c]=a.BP[c][1],a.lm=c,a.Zw=a.BP[c][0],a.KZ())}a.gY=!1};
D.uS.prototype.Wca=function(){(0,D.jT)(this);for(var a=[],b=[],c=this.Af.length-1;-1<c;c--)this.Af[c].Gh==this.Vk.Gh?this.Af[c].reset(b):this.Af[c].reset(a);for(c=0;c<a.length;c++)if(a[c]){var d=a[c].getParent();d&&d.removeChild(a[c])}for(c=0;c<b.length;c++)b[c]&&b[c].B(1);this.fP=[];a=new D.ar(this.j(),0.3);this.Jb.Fo(a);a.play();this.Ro=[];this.Qc&&"none"!=this.dn&&((0,D.sT)(this.Qc,!1),(0,D.tT)(this.Qc,!1))};
D.nT=function(a){var b=a.SO.F(),c=a.sz.F();if(a.Iz){var d=a.Jb.ba.ua();c.e/=d.Dd;c.g/=d.hg;c.x/=d.Dd;c.y/=d.hg}b=(0,D.qo)(b,c);(0,D.jT)(a);var e;a.Jb.Tn||(e=a.Jb.by(),a.Jb.vu(e*a.AX));var f;(0,D.Sk)()&&(f=new D.ar(a.j(),0.3));0<b.e&&0<b.g?a.Jb.Fo(f,b):a.Jb.Fo(f,a.Vk.lH());f&&f.play();e&&a.Jb.vu(e)};D.uS.prototype.PG=function(a){var b=new D.ar(this.j(),0.3);this.Jb.Fo(b,a);b.play()};
D.qT=function(a){if(a.Zw){var b=(0,D.gT)(a,a.lm).ri(a.Zw);if(b&&(b=b.Hb)){for(var b=b.getSelection(),c=0;c<b.length;c++)b[c]=b[c].ia();if(0<b.length){for(var d=b[0].F(),c=1;c<b.length;c++)d=(0,D.qo)(d,b[c].F());a.PG(d)}}}};D.uT=function(a,b){var c=D.xS.XJa(a.nk,b);return(0,D.gT)(a,c)};D.NS=function(a,b){var c=D.xS.Fqa(a.nk,b);return(0,D.gT)(a,c)};D.RS=function(a){var b=[];if(a.Vk)for(var c=0;c<a.Af.length;c++){var d=a.Af[c].Ej,e;for(e in d)b=a.Vk.Gh==a.Af[c].Gh?b.concat((0,D.WS)(d[e])):b.concat((0,D.XS)(d[e]))}return b};
D.dT=function(a){var b=[];if(a.Vk)for(var c=0;c<a.Af.length;c++){var d=a.Af[c].Ej;if(a.Vk.Gh==a.Af[c].Gh||!(a.Af[c]instanceof D.FS))for(var e in d)b=b.concat(d[e].hk)}return b};D.uS.prototype.SFa=function(a){this.ija=a;if(this.Iz){for(var b=(0,D.dT)(this),c=0;c<b.length;c++)b[c].mh(a);b=this.sx.Ja();for(c=0;c<b;c++)for(var d=this.sx.ha(c),e=d.Ja(),f=0;f<e;f++){var g=d.ha(f);g instanceof D.KS&&g.update(a)}}};D.uS.prototype.FBa=(0,D.s)("ija");
D.uS.prototype.KZ=function(){(0,D.jT)(this);var a=(0,D.NS)(this,this.lm),b=(0,D.gT)(this,this.lm),c=[];if(a){this.vW[this.lm]=this.Zw;for(var d=this.aL[this.lm],e=[],f=0;f<d.length;f++){var g;a:{g=b.ri(this.Zw).Oc;for(var h=0;h<g.length;h++)if(g[h].xk()===d[f]){g=g[h];break a}g=null}g.Yv()||e.push(d[f])}!this.gY&&"single"==this.dn&&(this.Ro.pop(),b.reset(c,d),a.reset(this.vz));d=[];for(f=0;f<e.length;f++){g=e[f];h=(0,D.JS)(b,g);d.push(h[0]);for(var i=0;i<h.length;i++)this.Y4[h[i]]=g;a.haa(h,c);if(h=
b.ri(this.Zw)){for(var i=g,k=this.vz,l=0;l<h.Oc.length;l++)if(h.Oc[l].xk()==i){h.Oc[l].MM(!0);h.Ro.push(i);k.push(h.Oc[l].ia());if(l=h.Oc[l].Mc())k.push(l),(l=l.um)&&k.push(l);break}for(l=0;l<h.hk.length;l++)if(h.hk[l].xk()==i){k.push(h.hk[l].ia());break}}this.Ro.push(g)}(0,D.vT)(this,this.vz,c,!1);(0,D.wT)(this,a.Gh,!0);this.lm=a.Gh;this.aL[this.lm]=d}};
D.uS.prototype.iaa=function(){(0,D.jT)(this);for(var a=(0,D.gT)(this,this.lm),b=(0,D.uT)(this,this.lm),c=[],d=[],e=this.aL[this.lm],f=0;f<e.length;f++){var g=this.Y4[e[f]];d.push(g);if(-1!=D.H.wa(this.Ro,g)){a.yT((0,D.JS)(b,g),this.vz);for(var h=b.ri(this.vW[b.Gh]),i=g,k=c,l=0;l<h.Oc.length;l++)if(h.Oc[l].xk()==i){var m=D.H.wa(h.Ro,i);h.Ro.splice(m,1);h.Oc[l].MM(!1);m=h.Oc[l].ia();h.an.k(m);k.push(m);if(l=h.Oc[l].Mc())l.update(h.RK),k.push(l),k.push(l.um);break}for(l=0;l<h.hk.length;l++)if(h.hk[l].xk()==
i){m=h.hk[l].ia();h.fx.k(m);k.push(m);break}g=D.H.wa(this.Ro,g);-1!=g&&this.Ro.splice(g,1)}}(0,D.vT)(this,this.vz,c,!0);this.lm=b.Gh;this.Zw=this.vW[this.lm];this.aL[this.lm]=d;(0,D.wT)(this,this.lm)};D.jT=function(a){a.Sa&&(a.Sa.stop(!0),a.Sa=null)};
D.vT=function(a,b,c,d){a.Jb.ba.ua();if("zoomToFit"==a.e4&&!a.gY){var e=new D.ar(a.j(),0.3);(0,D.Sk)()||(e=null);d?a.Jb.Fo(e):(0,D.qT)(a);e&&e.play()}(0,D.jT)(a);if((0,D.Sk)()&&("alphaFade"==a.e4||"auto"==a.e4))a.Sa=D.Xk.mD(a.j(),"alphaFade",b,c,null,0.5);a.Sa?(a.fb.Ac(),a.fb.ei(a),a.Sa.he(a.Fva,a),a.Sa.play()):(0,D.xT)(a)};
D.uS.prototype.dispatchEvent=function(a){var b=a.Ta();if("selection"==b)if(this.Zw){this.S9=a.getSelection();for(var b=this.aL,c=this.lm,d=this.S9,e=[],f=(0,D.gT)(this,this.lm).ri(this.Zw).Oc,g=0;g<d.length;g++)for(var h=0;h<f.length;h++)if(f[h].getId()==d[g]){e.push(f[h].xk());break}b[c]=e;(0,D.wT)(this,this.lm);(0,D.xl)(a,"clientId",this.Zw);this.OV&&!(this.OV instanceof D.zH)&&(this.vpa=this.OV)}else(0,D.wT)(this,null),this.vpa=null;else b==D.aT.Aga?((0,D.xl)(a,"clientId",this.KJ),this.fP="multiple"==
this.dn?this.fP.concat(this.S9):this.S9,b=a.kBa,b==D.aT.Aua&&this.iaa(),b==D.aT.G1?this.KZ():b==D.aT.Mva&&this.Wca(),a.wf(this.fP)):("showPopup"==b||"hidePopup"==b)&&(0,D.xl)(a,"clientId",this.KJ);D.uS.o.dispatchEvent.call(this,a)};D.wT=function(a,b,c){if(a.Qc&&a.dn&&"none"!=a.dn){var d=(0,D.NS)(a,b);b=(0,D.uT)(a,b);d&&!c?(0,D.sT)(a.Qc,!0):(0,D.sT)(a.Qc,!1);b?(0,D.tT)(a.Qc,!0):(0,D.tT)(a.Qc,!1)}};D.uS.prototype.Q=function(){D.uS.o.Q.call(this);this.fb&&(this.fb.Q(),this.fb=null)};
D.uS.prototype.destroy=D.uS.prototype.Q;D.uS.prototype.pr=function(){this.Qc&&this.Jb.k(this.Qc);this.EK&&(this.removeChild(this.EK),this.EK=null);this.Sa=null;this.i7&&(0,D.nT)(this);this.D.highlightedCategories&&0<this.D.highlightedCategories.length&&this.Ee(this.D.highlightedCategories);this.tV&&(this.fb.le(this),this.tV=!1)};D.uS.prototype.Fva=function(){(0,D.xT)(this);this.Sa=null;this.fb.le(this)};
D.xT=function(a){if(0<a.vz.length){for(var b=0;b<a.vz.length;b++){var c=a.vz[b];if(c)if(c instanceof D.KS)c.reset();else if(c.Yv&&c.Yv())c.B(0);else{var d=c.getParent();d&&d.removeChild(c)}}a.vz=[]}};D.uS.prototype.i6=function(a,b){var c=new D.om(a,b),d=[],e;for(e in this.dj)for(var f in this.dj[e])d.push(this.dj[e][f]);for(e in this.jn)for(f in this.jn[e])d.push(this.jn[e][f]);e=this.Cb.qPa;for(var g in e)f=new D.yT(e[g].$f(),g),d.push(f);(0,D.jl)(c.Nk,d,!0)};D.uS.prototype.pd=(0,D.s)("md");
D.uS.prototype.VM=(0,D.q)("md");D.uS.prototype.Df=function(){this.Ik||(this.Ik=new D.zT(this));return this.Ik};D.uS.prototype.getAutomation=D.uS.prototype.Df;D.uS.prototype.Fj=function(){return(0,D.P)("DvtUtilBundle","THEMATIC_MAP")};D.uS.prototype.Jca=function(a){"dvtResizeEvent"==a.Ta()&&this.Cb&&this.Cb.wc(a)};D.uS.prototype.Ee=function(a){this.D.highlightedCategories=D.il.Y(a);(0,D.jl)(a,(0,D.RS)(this).concat((0,D.dT)(this)),"any"==this.D.highlightMatch)};D.uS.prototype.highlight=D.uS.prototype.Ee;
D.uS.prototype.ps=function(a,b){var c=(0,D.AT)(this,a);c&&c.ps(b)};D.uS.prototype.processDefaultHoverEffect=D.uS.prototype.ps;D.uS.prototype.YA=function(a,b){var c=(0,D.AT)(this,a);c&&c.YA(b)};D.uS.prototype.processDefaultSelectionEffect=D.uS.prototype.YA;D.uS.prototype.iw=function(a,b){var c=(0,D.AT)(this,a);c&&c.iw(b)};D.uS.prototype.processDefaultFocusEffect=D.uS.prototype.iw;
D.AT=function(a,b){for(var c=0;c<a.Af.length;c++){var d=a.Af[c].Ej,e;for(e in d)for(var f=d[e].hk,g=0;g<f.length;g++)if(f[g].getId()===b)return f[g]}return null};
D.vS=function(){this.Init({fusion:D.DT,alta:D.ET})};D.w.l(D.vS,D.Hj,"DvtThematicMapDefaults");
D.DT={animationDuration:500,animationOnDisplay:"none",animationOnDrill:"none",animationOnMapChange:"none",controlPanelBehavior:"hidden",drilling:"none",highlightMatch:"all",hoverBehavior:"none",initialZooming:"none",markerZoomBehavior:"fixed",panning:"none",tooltipDisplay:"auto",touchResponse:"auto",visualEffects:"none",zooming:"none",styleDefaults:{skin:"alta",areaStyle:"background-color:#B8CDEC;border-color:#FFFFFF;",hoverBehaviorDelay:200,dataAreaDefaults:{borderColor:"#FFFFFF",drilledInnerColor:"#FFFFFF",
drilledOuterColor:"#000000",hoverColor:"#FFFFFF",opacity:1,selectedInnerColor:"#FFFFFF",selectedOuterColor:"#000000"},dataMarkerDefaults:{borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:0.5,color:"#000000",height:8,labelStyle:"font-family:Tahoma;font-size:13pt;color:#000000",opacity:0.4,scaleX:1,scaleY:1,shape:"circle",width:8},labelStyle:"font-family:Tahoma;font-size:11pt;"},legend:{position:"auto",rendered:!0,layout:{gapRatio:1}},layout:{gapRatio:null,legendMaxSize:0.3,legendGap:10},resources:{images:{},
translations:{}}};D.ET={styleDefaults:{areaStyle:"background-color:#DDDDDD;border-color:#FFFFFF;",dataAreaDefaults:{drilledOuterColor:"#0572CE"},dataMarkerDefaults:{color:"rgb(51,51,51)",labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;color:#333333',opacity:1},labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;'}};D.FT={animationOnLayerChange:"none",labelDisplay:"auto",labelType:"short"};D.GT={animationOnDataChange:"none",selectionMode:"none"};
D.LT=function(a){for(var b=0;b<a.Af.length;b++){var c=a.Af[b].Ej,d;for(d in c){var e=c[d].Gd;if(e&&e.jC)return e}}return null};D.u=D.uS.prototype;D.u.xj=function(a,b,c){this.eBa=!1;return(a=(0,D.LT)(this))?a.xj(c):!1};D.u.wk=function(a,b){var c=(0,D.LT)(this);return c?c.wk(a,b):null};D.u.Xt=function(a,b){var c=(0,D.LT)(this);return c?c.Xt(a,b):null};D.u.vp=function(a,b){var c=(0,D.LT)(this);return c?c.vp(a,b):null};D.u.Mv=function(a,b){var c=(0,D.LT)(this);return c?c.Mv(a,b):null};
D.u.Tv=function(a,b){var c=(0,D.LT)(this);return c?c.Tv(a,b):null};D.u.Xv=function(){var a=(0,D.LT)(this);a&&a.Xv()};D.u.bs=function(){var a=(0,D.LT)(this);a&&a.bs();(0,D.eu)(this.da)};
D.uS.prototype.oo=function(a,b,c){var d=this.Jb.Bd();a=(a-(0,D.Ir)(this.Jb))/d;b=(b-(0,D.Jr)(this.Jb))/d;a:{for(var d=a,e=b,f=0;f<this.Af.length;f++)if(this.Af[f].VIa){var g=this.Af[f].ul;if(g&&g.gs(d,e)){d=g;break a}}d=null}return(this.ul=d)?this.ul.oo(a,b,c):null};D.uS.prototype.gs=function(a,b){var c=this.Jb.Bd();a=(a-(0,D.Ir)(this.Jb))/c;b=(b-(0,D.Jr)(this.Jb))/c;return this.ul?this.ul.gs(a,b):null};
D.HS=function(a,b){this.$U=a;this.gAa=b};D.w.l(D.HS,D.fu,"DvtThematicMapDropTarget");D.HS.prototype.oo=function(a,b,c){if(a=(0,D.OS)(this.$U,a,b))a!=this.qF&&(this.$U.Fu(a),this.qF=a);else return this.$U.Fu(null),null;return c[0]};D.HS.prototype.gs=function(a,b){var c=(0,D.OS)(this.$U,a,b);if(c){var d=D.Z.MLa(a,b,this.gAa);return{cRa:c.Kza,NQa:d.x,OQa:d.y}}return null};
D.zT=(0,D.q)("aa");(0,D.ca)("DvtThematicMapAutomation",D.zT);D.w.l(D.zT,D.xj,"DvtThematicMapAutomation");
D.zT.prototype.ol=function(a){var b=(0,D.yj)(this.aa.la(),a);if(b&&(b instanceof D.PS||b instanceof D.QS)){var c;a:{a=b.ia();for(var d=this.aa.Af,e=0;e<d.length;e++){var f=d[e].Ej;for(c in f)if(a instanceof D.Dh)for(var g=f[c].Oc,h=0;h<g.length;h++){if(g[h]===b){c=(0,D.BT)(c)+":area["+h+"]";break a}}else if(a instanceof D.Yg||a instanceof D.Xg){g=f[c].hk;for(h=0;h<g.length;h++)if(g[h]===b){c=(0,D.BT)(c)+":marker["+h+"]";break a}}}c=null}return c}if(c=this.aa.da.Qc)if((b=(0,D.yj)(c.la(),a))&&b instanceof
D.Ke){a="disclosure zoomIn zoomOut zoomToFit drillDown drillUp reset".split(" ");for(d=0;d<a.length;d++)if(c.Lq(a[d])===b)return"controlPanel#"+a[d]}return null};
D.zT.prototype.Ff=function(a){if("tooltip"==a)return(0,D.Rl)(this.aa);var b=a.indexOf(":"),c=a.indexOf("[");return 0<b&&0<c?(a=(0,D.CT)(this,a.substring(0,b),a.substring(b+1,c),(0,window.parseInt)(a.substring(c+1,a.length-1))))?a.ia().ta():null:0===a.lastIndexOf("controlPanel")&&(b=a.indexOf("#"),0<b&&(a=a.substring(b+1),(b=this.aa.da.Qc)&&a))?(a=b.Lq(a))?a.ta():null:null};D.zT.prototype.getDomElementForSubId=D.zT.prototype.Ff;
D.zT.prototype.getData=function(a,b,c){return(a=(0,D.CT)(this,a,b,c))?(b={},b.color=a.si(),b.tooltip=a.zc(),c=a.Mc(),b.label=c?c.Ad():null,b.selected=a.Ca(),b):null};D.zT.prototype.getData=D.zT.prototype.getData;D.CT=function(a,b,c,d){a=a.aa.Af;for(var e=0;e<a.length;e++){var f=a[e].Ej,g;for(g in f)if((0,D.BT)(g)==b){if("area"==c)return f[g].nja[d];if("marker"==c)return f[g].pja[d]}}return null};D.BT=function(a){var b=a.lastIndexOf(":");return 0<b?a.substring(b+1):a};
D.zS=function(a,b){this.Init(a,b)};D.w.l(D.zS,D.Dh,"DvtDrillablePath");D.u=D.zS.prototype;D.u.Init=function(a,b){D.zS.o.Init.call(this,a);this.hC=this.gC=this.nW=this.mW=null;this.p7=!1;this.Zoom=1;this.Sf=b};D.u.Yv=(0,D.s)("p7");
D.u.MM=function(a){this.p7!=a&&(this.p7=a,this.Yv()?(this.gC=this.Ti(),this.gC.L(null),this.gC.qa(!1),this.hC=this.Ti(),this.hC.L(null),this.hC.qa(!1),a=this.getParent(),a.k(this.hC),a.k(this.gC),this.gC.V((0,D.AS)(this,this.mW,2)),this.hC.V((0,D.AS)(this,this.nW,4)),this.qa(!1),this.bf=!1):(this.bf&&(this.Jh(),this.Ai.V((0,D.AS)(this,this.Is,1),2)),this.hC.getParent().removeChild(this.hC),this.gC.getParent().removeChild(this.gC),this.qa(!0),this.B(1)))};
D.u.jb=function(a){this.Kk!=a&&(a&&(this.bf?(this.kN(),this.Tm=(0,D.AS)(this,this.Tm,2),this.em=(0,D.AS)(this,this.em,6)):(this.Ns=(0,D.AS)(this,this.Ns,1),this.cq=(0,D.AS)(this,this.cq,4))),D.zS.o.jb.call(this,a))};D.u.Ob=function(){this.Ca()?(this.kN(),this.Tm=(0,D.AS)(this,this.Tm,2),this.em=(0,D.AS)(this,this.em,6)):this.Is=(0,D.AS)(this,this.Is,2);D.zS.o.Ob.call(this)};
D.u.kN=function(){this.Tm||(this.Tm=this.Is.Y(),this.Tm.ma(2),this.Sf&&(this.Tm.Fc=!0));this.em||(this.em=this.cq.Y(),this.em.ma(6),this.Sf&&(this.em.Fc=!0))};D.u.Db=function(){this.Ca()&&(this.Ns=(0,D.AS)(this,this.Ns,1),this.cq=(0,D.AS)(this,this.cq,4));D.zS.o.Db.call(this)};D.u.Mp=function(a,b){D.zS.o.Mp.call(this,a,b);this.Sf&&(this.Is&&(this.Is.Fc=!0),this.zN&&(this.zN.Fc=!0));return this};
D.u.Op=function(a,b){D.zS.o.Op.call(this,a,b);this.Sf&&(this.Ns&&(this.Ns.Fc=!0),this.cq&&(this.cq.Fc=!0));return this};D.u.jr=function(a,b){D.zS.o.jr.call(this,a,b);this.Sf&&(this.Tm&&(this.Tm.Fc=!0),this.em&&(this.em.Fc=!0));return this};D.BS=function(a,b,c){if(!a.Sf){var d=b.Yb();d&&(d=d.Y(),d.ma(c/a.Zoom),b.V(d))}};D.AS=function(a,b,c){a.Sf||(b=b.Y(),b.ma(c/a.Zoom));return b};
D.CS=function(a,b){a.Zoom=b.Dd;a.Yv()?((0,D.BS)(a,a.gC,2),(0,D.BS)(a,a.hC,4)):a.Ca()?a.bf?((0,D.BS)(a,a.Ai,2),(0,D.BS)(a,a,6)):((0,D.BS)(a,a.Ai,1),(0,D.BS)(a,a,4)):a.bf?(0,D.BS)(a,a.Ai,2):(0,D.BS)(a,a,1)};
D.yS=function(a,b,c){this.Init(a,b,c)};D.w.l(D.yS,D.B,"DvtCustomDataItem");D.u=D.yS.prototype;
D.u.Init=function(a,b,c){D.yS.o.Init.call(this,a);this.rz=b;b instanceof D.lj?(this.Ba=b.getWidth(),this.Ea=b.getHeight(),this.k(b)):(this.ta().appendChild(b),b=(0,D.lg)(a,this),this.Ba=b.e,this.Ea=b.g);this.Tu=new D.C(a,-5,-5,this.Ba+10,this.Ea+10);(0,D.qi)(this.Tu);a=new D.I(c.selectedInnerColor,1,2);b=new D.I("rgb(235, 236, 237)",1,4);var d=new D.I(c.selectedInnerColor,1,2),e=new D.I(c.selectedOuterColor,1,4),f=new D.I(c.selectedInnerColor,1,2);c=new D.I(c.selectedOuterColor,1,6);this.Tu.Mp(a,
b).Op(d,e).jr(f,c);this.Ma(this.Tu,0)};D.u.Zb=function(a,b){(0,D.Ef)()?this.Tu.Zb(a,b):D.yS.o.Zb.call(this,a,b)};D.u.Td=function(a){(0,D.Ef)()?this.Tu.Td(a):D.yS.o.Td.call(this,a)};D.u.getWidth=(0,D.s)("Ba");D.u.getHeight=(0,D.s)("Ea");D.u.Jf=function(a){this.Tu.Jf(a)};D.u.Aa=function(){return this.Tu.Aa()};D.u.Ca=function(){return this.Tu.Ca()};D.u.jb=function(a){this.Tu.jb(a)};D.u.Ob=function(){this.Tu.Ob()};D.u.Db=function(){this.Tu.Db()};D.u.yD=(0,D.s)("rz");
D.u.NL=function(a){this.rz instanceof D.lj&&this.rz.NL(a)};
this?this.DvtBaseMapManager?D.xS=this.DvtBaseMapManager:(this.DvtBaseMapManager=D.xS={},D.xS._UNPROCESSED_MAPS=[[],[],[]],D.xS._UNPROCESSED_PARENT_UPDATES=[[]]):window.DvtBaseMapManager?D.xS=window.DvtBaseMapManager:(D.xS={},window.DvtBaseMapManager=D.xS,D.xS._UNPROCESSED_MAPS=[[],[],[]],D.xS._UNPROCESSED_PARENT_UPDATES=[[]]);D.w.l(D.xS,D.w,"DvtBaseMapManager");D.xS.DE=0;D.xS.TN=1;D.xS.u3=2;D.xS.t3=3;D.xS.IU=4;D.xS.Jw="__index";D.xS.Bi={};
D.xS.xqa=function(a,b){D.xS.Bq();var c=D.xS.Bi[a][b];return c&&(c=c[D.xS.IU])?new D.y(c[0],c[1],c[2],c[3]):null};D.xS.eIa=function(a,b){D.xS.Bq();var c=D.xS.Bi[a][b];return c?c[D.xS.t3]:null};D.xS.fIa=function(a,b){D.xS.Bq();var c=D.xS.Bi[a][b];return c?c[D.xS.DE]:null};D.xS.xJa=function(a,b,c){D.xS.Bq();a=D.xS.Bi[a][b];var d;a&&(d=a[D.xS.DE]);return d&&d[c]?d[c][1]:null};D.xS.tIa=function(a,b){D.xS.Bq();var c=D.xS.Bi[a];if(c&&(c=c.cities))if(c=c[D.xS.TN][b])return new D.E(c[0],c[1]);return null};
D.xS.uIa=function(a,b){D.xS.Bq();var c=D.xS.Bi[a];if(c&&(c=c.cities))if(c=c[D.xS.DE][b])return c[1];return null};D.xS.cIa=function(a,b,c){D.xS.Bq();var d=D.xS.Bi[a];if(d&&(d=d[b])){if((d=d[D.xS.t3])&&d[c])return(0,D.tF)(d[c][0]).Jd();a=D.xS.Bi[a][b][D.xS.TN][c];if(!a)return null;a=D.N.wR(a);return D.N.F(a).Jd()}return null};D.xS.Fqa=function(a,b){D.xS.Bq();var c=D.xS.Bi[a][b];return c?D.xS.Bi[a][D.xS.Jw][c.__index+1]:null};
D.xS.XJa=function(a,b){D.xS.Bq();return D.xS.Bi[a][b]?D.xS.Bi[a][D.xS.Jw][D.xS.Bi[a][b].__index-1]:null};D.xS.sqa=function(a,b){D.xS.Bq();return D.xS.Bi[a][b][D.xS.TN]};D.xS.YJa=function(a,b,c){D.xS.Bq();return D.xS.Bi[a][b][D.xS.TN][c]};D.xS.sIa=function(a,b){D.xS.Bq();var c=D.xS.Fqa(a,b);return c&&(c=D.xS.Bi[a][c][D.xS.u3])?c:[]};D.xS.xQa=function(a,b){D.xS.Bq();return D.xS.Bi[a][D.xS.Jw][b]};
D.xS.Oca=function(a,b,c,d,e,f,g,h){var i=D.xS.Bi[a];i||(i={},i[D.xS.Jw]=[],D.xS.Bi[a]=i);a=i[b];a||(a={},i[b]=a,null!=g&&(i[D.xS.Jw][g]=b));a[D.xS.DE]=c;a[D.xS.TN]=d;a[D.xS.u3]=e;a[D.xS.t3]=f;a[D.xS.IU]=h;a[D.xS.Jw]=g};(0,D.ca)("DvtBaseMapManager.registerBaseMapLayer",D.xS.Oca);D.xS.ota=function(a,b,c){var d=D.xS.Bi[a];d||(d={},D.xS.Bi[a]=d);a=d[b];a||(a={},d[b]=a);(a=d[b])&&(a[D.xS.DE]=c)};(0,D.ca)("DvtBaseMapManager.registerResourceBundle",D.xS.ota);
D.xS.Nta=function(a,b,c){if(a=D.xS.Bi[a])if(b=a[b])for(var d in c)b[D.xS.DE][d]=c[d]};(0,D.ca)("DvtBaseMapManager.updateResourceBundle",D.xS.Nta);
D.xS.Bq=function(){var a,b,c=D.xS._UNPROCESSED_MAPS;if(c){for(a=0;a<c[0].length;a++)b=c[0][a],D.xS.Oca(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);for(a=0;a<c[1].length;a++)b=c[1][a],D.xS.ota(b[0],b[1],b[2]);for(a=0;a<c[2].length;a++)b=c[2][a],D.xS.Nta(b[0],b[1],b[2]);D.xS._UNPROCESSED_MAPS=[[],[],[]]}if(c=D.xS._UNPROCESSED_PARENT_UPDATES){for(a=0;a<c[0].length;a++){b=c[0][a];var d=b[1],e=b[2],f=D.xS.Bi[b[0]],g;if(f){if(d=f[d]){d[D.xS.u3]=b[3];g=d[D.xS.IU];a=d[D.xS.Jw];d=f[D.xS.Jw];d.splice(a,0,e);f[e][D.xS.Jw]=
a;for(a+=1;a<d.length;a++)(e=f[d[a]])&&e[D.xS.Jw]++}(d=f[b[2]])&&(d[D.xS.IU]=g)}}D.xS._UNPROCESSED_PARENT_UPDATES=[[]]}};D.xS.INa=function(a,b,c,d,e,f){if(0<f){b=1/(window.Math.min(d/b,e/c)*f);if(1>=b)return a;c=[];if(a)for(var g in a)d=a[g],(0,window.isNaN)(d)&&(d=D.N.wR(a[g])),c[g]=D.N.JNa(d,b);return c}return a};D.xS.sJa=function(a,b){D.xS.Bq();var c=D.xS.Bi[a][b],d={};if(c){var c=c[D.xS.DE],e;for(e in c)d[e]=c[e][1]}return d};(0,D.ca)("DvtBaseMapManager.getLayerIds",D.xS.sJa);
D.yT=function(a,b){this.Init(a,b)};D.w.l(D.yT,D.w,"DvtThematicMapCategoryWrapper");D.yT.prototype.Init=function(a,b){this.ug=a;this.Nk=b};D.yT.prototype.Lc=(0,D.s)("Nk");D.yT.prototype.Yc=function(){return[this.ug]};
D.aT=function(a){this.Init(D.aT.Aga);this.kBa=a};D.w.l(D.aT,D.Fi,"DvtMapDrillEvent");D.aT.Aga="drill";D.aT.Aua=0;D.aT.G1=1;D.aT.Mva=2;D.aT.prototype.wf=(0,D.q)("cn");
D.DS=function(a,b,c){this.Init("action");this.ZB=a;this.RQ=b;this.Xm=c};(0,D.ca)("DvtMapActionEvent",D.DS);D.w.l(D.DS,D.Fi,"DvtMapActionEvent");D.DS.TYPE="action";D.DS.prototype.Zk=(0,D.s)("ZB");D.DS.prototype.getClientId=D.DS.prototype.Zk;D.DS.prototype.mba=(0,D.s)("RQ");D.DS.prototype.getRowKey=D.DS.prototype.mba;D.DS.prototype.Ae=(0,D.s)("Xm");D.DS.prototype.getAction=D.DS.prototype.Ae;
D.KS=function(a,b,c,d,e,f){this.Init(a,b,c,d,e,f)};D.w.l(D.KS,D.Ff,"DvtMapLabel");D.u=D.KS.prototype;D.u.Init=function(a,b,c,d,e,f){D.KS.o.Init.call(this,a,b,0,0);this.Sf=f;this.Ww=[];this.qa(!1);this.Xe();this.uf();this.ji=null;this.Pr=d;this.nG=e;if(c&&(this.Ww.push((0,D.tF)(c[0])),1<c.length)){this.K7=[];for(b=1;b<c.length;b++)d=c[b],this.Ww.push((0,D.tF)(d[0])),d=new D.eo(a,d[1]),(0,D.yi)(d),e=new D.I("#000000"),this.Sf&&(e.Fc=!0),d.V(e),this.K7.push(d)}};
D.u.update=function(a){a=a.Dd;for(var b=-1,c=D.Ve.Ah(this),d=!1,e=0;e<this.Ww.length;e++){var f=this.Ww[e].e*a;if(c.g<=this.Ww[e].g*a)if(c.e<=f){b=e;break}else if(this.getParent()||(d=!0,this.nG.k(this)),this.F().e<=f){b=e;break}}-1==b&&"on"==this.Pr&&(b=this.Ww.length-1);this.x5!=b?(-1==b?this.reset():(this.getParent()||this.nG.k(this),c=this.Ww[b].Jd(),this.Kp(c),this.K7&&(this.nG.removeChild(this.um),this.um=null,0<b?(this.um=this.K7[b-1],this.nG.k(this.um),d=this.fc(),d.W("color","#000000"),this.Ha(d),
d=this.Ww[b],e=this.um.vb(),f=e.length,d.x>e[f-2]?(this.vh(),this.uf(),this.Kp(new D.E(d.x,c.y))):d.y>e[f-1]?(this.Il(),this.Xe(),this.Kp(new D.E(c.x,d.y))):d.x+d.e<e[f-2]?(this.wh(),this.uf(),this.Kp(new D.E(d.x+d.e,c.y))):d.y+d.g<e[f-1]&&(this.po(),this.Xe(),this.Kp(new D.E(c.x,d.y+d.g)))):(this.Xe(),this.uf(),d=this.fc(),d.W("color",this.yla),this.Ha(d)))),this.x5=b):-1==b&&d&&this.nG.removeChild(this);-1!=this.x5&&(b=new D.bj,b.translate(a*this.ji.x-this.ji.x,a*this.ji.y-this.ji.y),this.za(b),
this.um&&(this.um.za(new D.bj(a,0,0,a)),this.Sf||(b=this.um.Yb().Y(),b.ma(1/a),this.um.V(b))))};D.u.Kp=function(a){this.ji=a;this.ca(a.x);this.va(a.y)};D.u.Jd=(0,D.s)("ji");D.u.Ha=function(a){D.KS.o.Ha.call(this,a);this.yla||(this.yla=a.A("color"))};D.u.reset=function(){this.nG.removeChild(this);this.x5=-1;this.um&&(this.nG.removeChild(this.um),this.um=null)};
D.QS=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.w.l(D.QS,D.w,"DvtMapObjPeer");D.u=D.QS.prototype;
D.u.Init=function(a,b,c,d,e){this.oa=a;this.iq=b;this.Ab=c;this.Ib=this.yl=this.Rh=!1;this.Ab.ZH&&this.Ab.ZH(a.color);this.Bb=d;this.ji=e;this.uk=1;this.H=b.aa;this.oa.categories||this.Bb&&(this.oa.categories=[this.Bb.Ad()]);c=a.location;"auto"==this.H.yja&&c&&(b=b.CQ,(b=!(b instanceof D.FS)||b instanceof D.SS?D.xS.uIa(this.H.nk,c):D.xS.xJa(this.H.nk,b.Gh,c))&&(this.oa.shortDesc=a.shortDesc?b+": "+a.shortDesc:b));this.Ab&&(a.destination?(this.Ab.Td("link"),this.P7=D.A.uD("_blank",a.destination)):
this.Ab.Td("img"));this.Wm()};D.u.getId=function(){return this.oa.id};D.u.Zk=function(){return this.oa.clientId};D.u.xk=function(){return this.oa.location};D.u.Jd=(0,D.s)("ji");D.u.Kp=function(a){this.ji=a;this.SU()};D.u.ia=(0,D.s)("Ab");D.u.Mc=(0,D.s)("Bb");D.u.ri=(0,D.s)("iq");D.u.Ae=function(){return this.oa.action};D.u.lb=function(a){this.Ab.lb(a);this.Bb&&this.Bb.lb(a)};D.u.zc=function(){return this.oa.shortDesc};
D.u.Sc=function(){return this.Ab.getWidth?this.Ab.getWidth()*this.Ab.getHeight():0};D.u.Lc=function(){return this.oa.categories};D.u.Be=function(){if("none"!=this.H.yja){var a=this.H.q().tooltip;return a?(0,D.Qo)(this.H.j().fe(),a,this.tp()):this.zc()}return null};D.u.tp=function(){return{id:this.getId(),label:this.Bb?this.Bb.Ad():null,color:this.si(),location:this.xk(),x:this.oa.x,y:this.oa.y}};D.u.uD=(0,D.s)("P7");D.u.si=function(){return this.oa.color?this.oa.color:"#000000"};
D.u.ec=function(){var a=[];this.Aa()&&a.push((0,D.P)("DvtUtilBundle",this.Ca()?"STATE_SELECTED":"STATE_UNSELECTED"));return(0,D.hk)(this.zc(),a)};D.u.Yc=function(){return[this.ia()]};D.u.Wm=function(){if(!(0,D.Ye)()){var a=this.ec();a&&this.Ab.Zb("label",a)}};D.u.Jf=function(a){var b=this.Mc();this.Ab.Jf&&(this.Ab.Jf(a),b&&a&&b.setCursor("pointer"));this.oa.destination&&(this.Ab.setCursor("pointer"),b&&b.setCursor("pointer"))};D.u.Aa=function(){return this.Ab.Aa?this.Ab.Aa():!1};D.u.Ca=(0,D.s)("Rh");
D.u.jb=function(a){if(this.Aa()){var b=this.Ii();this.Rh=a;this.iq.q().selectionRenderer?(0,D.cT)(this,this.iq.q().selectionRenderer,this.Ii(),b):this.YA(a);this.Wm()}};D.u.Ob=function(){var a=this.Ii();this.yl=!0;this.iq.q().hoverRenderer?(0,D.cT)(this,this.iq.q().hoverRenderer,this.Ii(),a):this.ps(!0)};D.u.Db=function(){var a=this.Ii();this.yl=!1;this.iq.q().hoverRenderer?(0,D.cT)(this,this.iq.q().hoverRenderer,this.Ii(),a):this.ps(!1)};D.u.VM=(0,D.q)("md");D.u.pd=(0,D.s)("md");
D.u.xj=function(a){for(var b=this.iq.Zk(),c=0;c<a.length&&a[c]!=b;c++);return b};D.u.wk=function(){return this.iq.NB(this)};D.u.Wt=function(){return this.iq.MB()};D.u.zd=function(a){return a.type==D.dk?this:32==a.keyCode&&a.ctrlKey?this:(0,D.ym)(this,a,this.Oea())};D.u.Oea=function(){return(0,D.dT)(this.ri().aa)};D.u.Ce=function(a){return this.Ab.getParent()?this.Ab instanceof D.yS?this.Ab.F(a?a:this.Ab.j().Jc):this.Ab.F(a):new D.y(0,0,0,0)};D.u.wj=function(){return this.Ab.ta()};
D.u.Ud=function(){var a=this.Ii();this.Ib=!0;this.iq.q().focusRenderer?(0,D.cT)(this,this.iq.q().focusRenderer,this.Ii(),a):this.iw(!0)};D.u.ic=function(){if(this.oc()){var a=this.Ii();this.Ib=!1;this.iq.q().focusRenderer?(0,D.cT)(this,this.iq.q().focusRenderer,this.Ii(),a):this.iw(!1)}};D.u.oc=(0,D.s)("Ib");D.u.mh=function(a){this.Ab.getParent()&&(this.uk=a.Dd,this.SU())};
D.u.z0=function(){if(this.Bb){this.Bb.Xe();var a=this.Ab.Dg()*this.uk,b=this.Ab.Eg()*this.uk,c=this.Ab.getHeight(),d=this.Ab instanceof D.Yg?this.Ab.Ta():"image",e=this.oa.labelPosition;"top"==e?(b=b-c/2-4,this.Bb.po()):"bottom"==e?(b+=c/2,this.Bb.Il()):(b="triangleUp"==d?b+c/6:"triangleDown"==d?b-c/6:b,this.Bb.uf());this.Bb.ca(a).va(b)}};
D.u.SU=function(){var a=this.Ab.getWidth(),b=this.Ab.getHeight();if(null!=a&&null!=b&&this.Ab.getParent()){var c=0,d=this.ji.x,c=this.ji.y;this.Ab.Uv&&(c=this.Ab.Uv(),d=this.ji.x*window.Math.cos(c)-this.ji.y*window.Math.sin(c),c=this.ji.x*window.Math.sin(c)+this.ji.y*window.Math.cos(c));d=this.ji.x*this.uk-d;c=this.ji.y*this.uk-c;this.Ab instanceof D.yS&&(d+=this.ji.x-a/2,c+=this.ji.y-b/2);(0,D.ik)(this.Ab,d,c);(0,D.to)(this.Ab);this.z0()}};
D.u.ff=function(a,b){var c=new D.en(this.H.j(),this.Ab,this.ri().xa()),d=b.ia();if(this.Ab.Rb){var e=d.Rb(),f=this.Ab.Rb();f instanceof D.tn&&!(f.rb()==e.rb()&&f.fa()==e.fa())&&(this.Ab.L(e),b.Mc()&&this.Bb&&(e=this.Bb.Rb(),this.Bb.L(b.Mc().Rb().Y()),(0,D.T)(c.J,"typeFill",this.Bb,this.Bb.Rb,this.Bb.L,e)),(0,D.T)(c.J,"typeFill",this.Ab,this.Ab.Rb,this.Ab.L,f))}if(this.Ab.Vt&&(f=b.ia().Vt(),e=this.Ab.Vt(),f.x!=e.x||f.y!=e.y||f.e!=e.e||f.g!=e.g))this.Ab.bB(f),(0,D.T)(c.J,"typeRectangle",this.Ab,this.Ab.Vt,
this.Ab.bB,e);f=d.Uv();e=this.Ab.Uv();if(f!=e){var g=f-e;g>window.Math.PI?f-=2*window.Math.PI:g<-window.Math.PI&&(f+=2*window.Math.PI);this.Ab.Yj(f);(0,D.T)(c.J,"typeNumber",this.Ab,this.Ab.Uv,this.Ab.Yj,e)}var g=b.Jd(),h=this.Jd();if(g&&h&&(g.x!=h.x||g.y!=h.y||f!=e))this.Kp(new D.E(g.x,g.y)),(0,D.T)(c.J,"typePoint",this,this.Jd,this.Kp,new D.E(h.x,h.y));this.Bb&&b.Mc()?(f=b.Mc().ja(),e=this.Bb.ja(),f!=e&&(this.Bb.ca(f),(0,D.T)(c.J,"typeNumber",this.Bb,this.Bb.ja,this.Bb.ca,e)),f=b.Mc().na(),e=this.Bb.na(),
f!=e&&(this.Bb.va(f),(0,D.T)(c.J,"typeNumber",this.Bb,this.Bb.na,this.Bb.va,e)),b.Mc().B(0)):b.Mc()&&b.Mc().B(0);d.B(0);a.add(c,1)};D.u.hh=function(a){var b=[this.Ab],c=this.Mc();c&&b.push(c);b=new D.gn(this.H.j(),b,this.ri().xa());a.add(b,0)};D.u.pg=function(a){var b=[this.Ab];this.Ab.B(0);var c=this.Mc();c&&(c.B(0),b.push(c));b=new D.Km(this.H.j(),b,this.ri().xa());a.add(b,2)};D.u.YA=function(a){this.Ab.jb&&this.Ab.jb(a)};D.u.iw=function(a){this.ps(a)};
D.u.ps=function(a){a?this.Ab.Ob&&this.Ab.Ob():this.Ab.Db&&!this.oc()&&this.Ab.Db()};D.cT=function(a,b,c,d){if(a.Ab instanceof D.yS){var e=a.H.q()._contextHandler;e&&(c=e(a.Ab.ta(),a.Ab.yD(),a.oa,c,d),b=b(c),a=a.Ab,a.rz!==b&&(a.rz&&(a.rz instanceof D.lj?a.removeChild(a.rz):a.ta().removeChild(a.rz)),b instanceof D.lj?a.k(b):a.ta().appendChild(b),a.rz=b))}};D.QS.prototype.Ii=function(){return{hovered:this.yl,selected:this.Ca(),focused:this.oc()}};
D.PS=function(a,b,c,d){this.Init(a,b,c,d)};D.w.l(D.PS,D.QS,"DvtMapAreaPeer");D.u=D.PS.prototype;D.u.Init=function(a,b,c,d){D.PS.o.Init.call(this,a,b,c,d)};D.u.jb=function(a){this.Aa()&&(a&&!this.yl&&this.an.k(this.Ab),D.PS.o.jb.call(this,a))};D.u.Ob=function(){this.an.k(this.Ab);D.PS.o.Ob.call(this)};D.u.Db=function(){this.Ca()?this.an.k(this.Ab):this.an.Ma(this.Ab,0);D.PS.o.Db.call(this)};D.u.Yv=function(){return this.Ab.Yv()};D.u.MM=function(a){a?this.an.k(this.Ab):this.an.Ma(this.Ab,0);this.Ab.MM(a)};
D.u.mh=function(a){D.PS.o.mh.call(this,a);this.Ab.getParent()&&((0,D.CS)(this.Ab,a),this.Yv()||this.z0(a))};D.u.z0=function(a){this.Mc()&&this.Mc().update(a)};D.u.Oea=function(){return(0,D.RS)(this.ri().aa)};D.u.ff=function(a,b){D.PS.o.ff.call(this,a,b);this.ri().CQ.Dt[this.xk()]=!1};D.u.SU=(0,D.j)();
D.ES=function(a,b,c,d){this.Init(a,b,c,d)};D.w.l(D.ES,D.B,"DvtMapArea");D.u=D.ES.prototype;D.u.Init=function(a,b,c,d){D.ES.o.Init.call(this,a);this.Rh=this.UE=!1;this.Kza=c;this.G=b;this.k(this.G);this.Sf=d;if(a=b.Yb())this.Tha=a.getWidth()};D.u.Gf=(0,D.s)("Si");D.u.Dj=(0,D.q)("Si");D.u.Yb=function(){return this.G instanceof D.Ii?this.G.Yb():null};D.u.V=function(a){this.G instanceof D.Ii&&this.G.V(a)};D.u.L=function(a){this.G instanceof D.Ii&&this.G.L(a)};
D.u.Rb=function(){return this.G instanceof D.Ii?this.G.Rb():null};D.u.uA=function(){return this.G instanceof D.Dh?this.G.uA():null};D.u.Bj=function(a){this.G instanceof D.Dh&&this.G.Bj(a)};D.u.cI=function(a){this.G instanceof D.Pe&&this.G.cI(a)};D.u.eH=function(){return this.G.Ti()};D.u.contains=function(a,b){var c=this.F();return a>=c.x&&a<=c.x+c.e&&b>=c.y&&b<=c.y+c.g};D.u.mh=function(a){if(!this.Sf&&this.G&&this.Tha){var b=this.G.Yb().Y();b.ma(this.Tha/a.Dd);this.G.V(b)}};
D.GS=function(a,b,c){this.Init(a,b,c)};D.w.l(D.GS,D.w,"DvtMapLayer");D.u=D.GS.prototype;D.u.Init=function(a,b,c){this.aa=a;this.Gh=b;this.O1=c;this.Ej={};this.Jo=new D.bj};D.u.$fa=(0,D.j)();D.u.W2=(0,D.j)();
D.u.tda=function(a,b){this.Sa&&this.Sa.stop(!0);this.Jo=b;this.yt=this.ri(a.Zk());this.Ej[a.Zk()]=a;a.P(this.Jo);a.mh(new D.NC("zoomed"),this.Jo);if(this.yt){var c=a.Mq(),d=a.xa();if("auto"==c){var e=new D.Hm(this.aa.j());(0,D.Im)(e,this.yt.hk.concat(this.yt.Oc),a.hk.concat(a.Oc));this.Sa=e.Mq()}else if(D.Xk.isSupported(c)){this.Vna=!0;for(var f=new D.y(0,0,this.aa.getWidth(),this.aa.getHeight()),g=(0,D.VS)(this.yt),e=0;e<g.length;e++){var h=new D.C(this.aa.j(),0,0,this.aa.getWidth(),this.aa.getHeight());
h.L(null);g[e].k(h)}for(var i=(0,D.VS)(a),e=0;e<i.length;e++)h=new D.C(this.aa.j(),0,0,this.aa.getWidth(),this.aa.getHeight()),h.L(null),i[e].k(h);f=D.Xk.mD(this.aa.j(),c,g,i,f,d);g=new D.y(0,0,this.aa.getWidth()/this.Jo.Dd,this.aa.getHeight()/this.Jo.Dd);i=[this.yt.an];for(e=0;e<i.length;e++)h=new D.C(this.aa.j(),0,0,this.aa.getWidth()/this.Jo.Dd,this.aa.getHeight()/this.Jo.Dd),h.L(null),i[e].k(h);for(var k=[a.an],e=0;e<k.length;e++)h=new D.C(this.aa.j(),0,0,this.aa.getWidth()/this.Jo.Dd,this.aa.getHeight()/
this.Jo.Dd),h.L(null),k[e].k(h);e=D.Xk.mD(this.aa.j(),c,i,k,g,d);this.Sa=new D.cn(this.aa.j(),[f,e])}else{c=[this.yt.an,this.yt.fx,this.yt.UO];for(e=0;e<c.length;e++)c[e].getParent().removeChild(c[e])}this.$fa();if(this.Sa){this.O1.ei(this.sa);var l=this;this.Sa.he(function(){l.pr(a)},this);this.Sa.play()}}else this.W2(),(0,D.bT)(this.aa)};D.u.ri=function(a){return this.Ej?this.Ej[a]:null};D.u.P=function(a){this.Jo=a;for(var b in this.Ej)this.Ej[b].P(a)};
D.u.reset=function(a,b){for(var c in this.Ej)this.Ej[c].reset(a,b)};D.u.mh=function(a,b){this.Jo=b;for(var c in this.Ej)this.Ej[c].mh(a,b)};D.u.Bw=function(a){this.Jo=a;for(var b in this.Ej)this.Ej[b].Bw(a)};
D.u.pr=function(a){if(this.yt)for(var b=[this.yt.an,this.yt.fx,this.yt.UO],c=0;c<b.length;c++){var d=b[c].getParent();d&&d.removeChild(b[c])}if(this.Vna){this.Vna=!1;b=(0,D.VS)(a);for(c=0;c<b.length;c++)b[c].rs(b[c].Ja()-1);a=[a.an];for(c=0;c<a.length;c++)a[c].rs(a[c].Ja()-1)}this.W2();(0,D.bT)(this.aa);this.Sa=null;this.O1.le(this.sa)};
D.FS=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.w.l(D.FS,D.GS,"DvtMapAreaLayer");D.u=D.FS.prototype;D.u.Init=function(a,b,c,d,e){D.FS.o.Init.call(this,a,b,e);this.Pr=c;this.Ala=d;this.eO={};this.Go={};this.zs={};this.lK=this.xu=null;this.cn=[];this.Dt={};this.Ft={};this.rY={};this.jI=new D.B(this.aa.j());this.GN=new D.B(this.aa.j());this.aa.h4.Ma(this.jI,0);this.aa.sx.Ma(this.GN,0);this.ul=new D.HS(this,this.aa.nk)};D.u.cda=(0,D.q)("c4");D.u.Mq=(0,D.s)("c4");D.u.mw=(0,D.q)("b4");D.u.xa=(0,D.s)("b4");
D.u.VIa=(0,D.s)("ul");D.IS=function(a,b){a.xu=b;for(var c in a.xu)a.Dt[c]=!0,a.Ft[c]=!0};D.FS.prototype.cra=function(a){return!this.lK?null:this.lK[a]};D.JS=function(a,b){return a.sl[b]?a.sl[b].split(","):[]};D.FS.prototype.j_=(0,D.s)("Pr");
D.FS.prototype.lH=function(){if(!this.nK)if(this.hK)this.nK=D.N.F(D.N.wR(D.xS.YJa(this.aa.nk,this.Gh,this.hK)));else if("world"!=this.aa.nk&&"worldRegions"!=this.aa.nk&&(this.nK=D.xS.xqa(this.aa.nk,this.Gh)),!this.nK){var a=(0,D.qo)(this.jI.F(),this.aa.SO.F());0<a.e&&0<a.g&&(this.nK=a)}return this.nK};
D.LS=function(a,b,c){var d=a.zs[b];if(d&&((c||!a.Go[b])&&a.Mta(b),a.Go[b]||(c=new D.ES(a.aa.j(),d,b,a.aa.Sf),a.Go[b]=c,a.O1.Fa(d,c),c.Dj(a.xu&&a.xu[b]?a.xu[b][1]:null)),a.Ft[b]&&(c=a.eO[b],!c&&("off"!=a.Pr&&a.xu)&&(c="short"==a.Ala?a.xu[b][0]:a.xu[b][1]))))a.lK&&a.lK[b]?c=new D.KS(a.aa.j(),c,a.lK[b],a.Pr,a.GN,a.aa.Sf):(d=(0,D.lg)(a.aa.j(),d),c=new D.KS(a.aa.j(),c,[[d.x,d.y,d.e,d.g]],a.Pr,a.GN,a.aa.Sf)),a.eO[b]=c,a.H7&&c.Ha(a.H7)};
D.MS=function(a,b,c){if(a.zs[b]){a.jI.k(a.Go[b]);var d=a.eO[b];d&&(a.Ft[b]?d.update(a.Jo):d.reset(),a.rY[b]=a.Ft[b]);c&&(c.push(a.Go[b]),d&&(c.push(d),c.push(d.um)))}};D.u=D.FS.prototype;
D.u.Mta=function(a){if(!this.Ana||this.lia){this.lia=!1;var b;this.Ana=(b="world"==this.aa.nk||"worldRegions"==this.aa.nk?D.xS.xqa(this.aa.nk,this.Gh):this.lH())?D.xS.INa(D.xS.sqa(this.aa.nk,this.Gh),b.e,b.g,this.aa.getWidth(),this.aa.getHeight(),this.aa.QG?this.aa.AX:1):D.xS.sqa(this.aa.nk,this.Gh)}b=this.Ana[a];this.zs[a]&&b?this.zs[a].Bj(b):delete this.zs[a]};D.u.tda=function(a,b,c){D.FS.o.tda.call(this,a,b,c);if(c==this.Gh)for(var d in this.zs)(0,D.LS)(this,d,!0),this.Dt[d]&&(0,D.MS)(this,d)};
D.u.P=function(a){this.lia=!0;for(var b in this.zs)(0,D.LS)(this,b,!0),this.Dt[b]&&(0,D.MS)(this,b);D.FS.o.P.call(this,a)};D.u.$fa=function(){for(var a in this.Dt)this.Dt[a]||((0,D.LS)(this,a,!1),(0,D.MS)(this,a))};D.u.W2=function(){for(var a in this.Dt)if(!this.Dt[a]){this.jI.removeChild(this.Go[a]);var b=this.eO[a];b&&(this.rY[a]=!1,this.GN.removeChild(b),(b=b.um)&&this.GN.removeChild(b))}};
D.u.haa=function(a,b){for(var c=0;c<a.length;c++)(0,D.LS)(this,a[c],!1),this.Dt[a[c]]&&(0,D.MS)(this,a[c],b);for(var d in this.Ej)this.Ej[d].haa(a,b,this.Jo);this.cn=this.cn.concat(a)};D.u.yT=function(a,b){for(var c in this.Ej)this.Ej[c].yT(a,b);c=(0,D.NS)(this.aa,this.Gh);for(var d=0;d<a.length;d++){var e=a[d];if(this.Go[e]){var f=D.H.wa(this.cn,e);-1!==f&&(this.cn.splice(f,1),b.push(this.Go[e]))}c&&c.yT((0,D.JS)(this,e),b)}};
D.u.reset=function(a,b){D.FS.o.reset.call(this,a,b);"none"!=this.aa.dn&&(this.yT(this.cn,a),this.cn=[])};D.OS=function(a,b,c){for(var d in a.Go)if(a.Go[d].contains(b,c))return a.Go[d];return null};
D.FS.prototype.Fu=function(a){this.zf&&(this.jI.removeChild(this.zf),this.zf=null);if(a&&(this.zf=a.eH()))this.zf.L(new D.tn(this.gP.A("background-color"))),a=this.gP.A("border-width")?this.gP.A("border-width").substring(0,this.gP.A("border-width").indexOf("px")):1,this.aa.Sf||(a/=this.Jo.Dd),a=new D.I(this.gP.A("border-color"),1,a),this.aa.Sf&&(a.Fc=!0),this.zf.V(a),this.jI.k(this.zf);return this.zf};
D.FS.prototype.mh=function(a,b){D.FS.o.mh.call(this,a,b);if(!this.aa.Sf)for(var c in this.Go)this.Go[c].mh(b);for(c in this.rY)if(this.rY[c]){var d=this.eO[c];d&&d.update(b)}};
D.SS=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.w.l(D.SS,D.FS,"DvtMapCustomAreaLayer");D.SS.prototype.Init=function(a,b,c,d,e){D.SS.o.Init.call(this,a,b,c,d,e)};D.SS.prototype.Mta=(0,D.j)();D.SS.prototype.lH=function(){return new D.y(0,0,this.fDa,this.eDa)};D.TS=function(a){var b=a.aa.getWidth(),c=a.aa.getHeight();a=a.Jza;for(var d=0;d<a.length;d++){var e=a[d],f=e.source,g=e.width,e=e.height;if(f&&-1<f.search(".svg")||g>=b&&e>=c||d==a.length-1)return f}};
D.SS.prototype.mh=function(a,b){D.SS.o.mh.call(this,a,b);if(this.Go.image){var c=(0,D.TS)(this);c!=this.VW&&(this.VW=c,this.Go.image.cI(this.VW))}};
D.US=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.w.l(D.US,D.w,"DvtMapDataLayer");D.US.prototype.Init=function(a,b,c,d,e){this.aa=a;this.ZB=c;this.de=e;this.Oc=[];this.hk=[];this.nja=[];this.pja=[];this.fb=d;this.Gd=new D.du(a.j());(0,D.Dq)(this.fb,this.Gd);this.an=new D.B(this.aa.j());this.fx=new D.B(this.aa.j());this.UO=new D.B(this.aa.j());this.aa.SO.Ma(this.an,0);this.aa.sz.Ma(this.fx,0);this.aa.sx.Ma(this.UO,0);this.CQ=b;this.cn=[];this.Ro=[]};D.US.prototype.q=(0,D.s)("de");
D.VS=function(a){var b=[a.UO];a.aa.Iz&&b.push(a.fx);return b};D.WS=function(a){for(var b=[],c=0;c<a.Oc.length;c++)a.Oc[c].Yv()||b.push(a.Oc[c]);return b};D.XS=function(a){for(var b=[],c=0;c<a.Oc.length;c++)for(var d=0;d<a.cn.length;d++)a.Oc[c].xk()==a.cn[d]&&(a.Oc[c].Yv()||b.push(a.Oc[c]));return b};D.YS=function(a,b){a.pja.push(b);if(b){a.hk.push(b);a.fb.Fa(b.ia(),b);var c=b.Mc();c&&a.fb.Fa(c,b)}};D.ZS=function(a,b){a.nja.push(b);b&&(a.Oc.push(b),a.fb.Fa(b.ia(),b),b.an=a.an)};D.u=D.US.prototype;
D.u.Zk=(0,D.s)("ZB");D.u.cda=(0,D.q)("c4");D.u.Mq=(0,D.s)("c4");D.u.mw=(0,D.q)("b4");D.u.xa=(0,D.s)("b4");D.u.pw=function(a){if(this.Eq=a)this.Hb=new D.Tk(this.Eq),this.fb.wu(this.ZB,this.Hb)};D.u.Aa=function(){return null!=this.Eq};D.$S=function(a,b){var c;c=a.Oc[b];var d=c.ia(),e=a.CQ.zs[c.xk()];e?(d.Bj(e.uA()),c=!0):(c=a.Oc.indexOf(c),-1!==c&&a.Oc.splice(c,1),c=!1);if(c){d=a.Oc[b].ia();a.an.k(d);if(c=a.Oc[b].Mc())0<c.Ww.length||(d=d.F(),c.Ww.push(d)),c.update(a.RK);return!0}return!1};D.u=D.US.prototype;
D.u.P=function(a){this.aia=!0;this.RK=a;a={};var b=this.hk.slice();b.sort(function(a,b){return a.Sc()<b.Sc()?1:a.Sc()>b.Sc()?-1:0});for(var c=0;c<b.length;c++){var d=b[c],e=d.ia(),f=d.Mc();if(f){var g=new D.B(e.j());this.fx.k(g);g.k(e);g.k(f);d.z0()}else this.fx.k(e);(d=d.xk())&&(a[d]=!0)}for(c=0;c<this.Oc.length;c++)a[this.Oc[c].xk()]&&(this.Oc[c].Bb=null),(0,D.$S)(this,c)||c--;this.c7&&this.Yz()};
D.u.haa=function(a,b,c){this.RK=c;for(var d=[],e=0;e<a.length;e++)for(var f=0;f<this.Oc.length;f++)if(this.Oc[f].xk()==a[e]){d.push(this.Oc[f].xk());(0,D.$S)(this,f);var g=this.Oc[f].ia();b.push(g);(0,D.CS)(g,c);if(f=this.Oc[f].Mc())b.push(f),(f=f.um)&&b.push(f);break}for(f=0;f<this.hk.length;f++)for(e=0;e<a.length;e++)c=this.hk[f].xk(),g=this.hk[f].ia(),null!=c?c==a[e]&&(this.fx.k(g),b.push(g)):(this.fx.k(g),b.push(g));this.cn=this.cn.concat(d)};
D.u.yT=function(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<this.Oc.length;d++)if(this.Oc[d].xk()==a[c]){this.Oc[d].Yv()&&this.Oc[d].MM(!1);this.Oc[d].Ca()&&this.Hb.aT(this.Oc[d]);var e=D.H.wa(this.cn,a[c]);if(-1<e&&(this.cn.splice(e,1),b.push(this.Oc[d].ia()),d=this.Oc[d].Mc()))b.push(d),b.push(d.um);break}};
D.u.reset=function(a,b){if(this.Hb)for(var c=this.Hb.getSelection(),d=0;d<c.length;d++)(!b||b&&-1==D.H.wa(b,c[d].xk()))&&this.Hb.aT(c[d]);if("none"!=this.aa.dn)for(c=0;c<this.Ro.length;c++){for(d=0;d<this.Oc.length;d++)if(this.Oc[d].xk()==this.Ro[c]){this.Oc[d].MM(!1);var e=this.Oc[d].ia();this.an.k(e);a.push(e);if(d=this.Oc[d].Mc())d.update(this.RK),a.push(d),a.push(d.um);break}for(d=0;d<this.hk.length;d++)if(this.hk[d].xk()==this.Ro[c]){e=this.hk[d].ia();this.fx.k(e);a.push(e);break}}this.Ro=[]};
D.u.mh=function(a,b){this.RK=b;var c=b.Dd,d=a.vj();if(this.aia&&"zoomed"==d){this.aia=!1;for(d=0;d<this.Oc.length;d++){var e=this.Oc[d].ia(),f=e.BEa;if(f){var g=new D.Zg;f.Fe(g);g.za(new D.bj(1/c,null,null,1/c));e.L(g)}}}d=this.Oc;for(c=0;c<d.length;c++)d[c].mh(b);if(this.aa.Iz){d=this.hk;for(c=0;c<d.length;c++)d[c].mh(b)}};D.u.Bw=(0,D.q)("RK");D.u.Yz=function(){this.Hb&&((0,D.Al)(this.Hb,this.c7,this.hk.concat(this.Oc)),this.c7=null)};
D.u.NB=function(a){if(this.Hb){a.Ca()||(this.Hb.Km(a,!1),this.fb.Lv(a));a=[];for(var b=this.Hb.getSelection(),c=0;c<b.length;c++)a.push(b[c].getId());return a}return null};D.u.MB=function(){for(var a=[],b=this.Hb.getSelection(),c=0;c<b.length;c++)a.push(b[c].ia());return a};
D.iT=function(a,b){this.Init(a,b)};D.w.l(D.iT,D.Bp,"DvtThematicMapKeyboardHandler");D.u=D.iT.prototype;D.u.Init=function(a,b){D.iT.o.Init.call(this,a,b);this.aa=a};D.u.oy=function(a){return this.sg(a)&&!a.ctrlKey};
D.u.Ch=function(a){var b=a.keyCode;if(221==b){var b=this.ea.dd(),c=(0,D.dT)(this.aa);b instanceof D.PS&&0<c.length&&(b=(0,D.ym)(b,a,c));(0,D.HT)(this.ea,b)}else 219==b?(b=this.ea.dd(),c=(0,D.RS)(this.aa),!(b instanceof D.PS)&&0<c.length&&(b=(0,D.ym)(b,a,c)),(0,D.HT)(this.ea,b)):(b=D.iT.o.Ch.call(this,a),this.sg(a)&&!a.ctrlKey&&(0,D.HT)(this.ea,b));return b};D.u.Zq=function(a){return 32==a.keyCode&&a.ctrlKey};
D.u.sg=function(a){var b=D.iT.o.sg.call(this,a);if(!b&&(a=a.keyCode,219==a||221==a))b=!0;return b};
D.hT=function(a,b,c){this.Init(a,b,c)};D.w.l(D.hT,D.Jj,"DvtThematicMapEventManager");D.u=D.hT.prototype;D.u.Init=function(a,b,c){D.hT.o.Init.call(this,a,b,c);this.eA={};this.aa=c;this.Tw=!1};D.u.jh=function(a){if(a&&a.ri)return this.eA[a.ri().Zk()]};D.u.wu=function(a,b){this.eA[a]=b};D.u.ida=(0,D.q)("dn");D.u.aT=function(a,b){var c=this.eA[a];c&&c.aT(b)};D.u.KL=function(a){(a=this.eA[a])&&a.KL()};
D.u.Jy=function(a){var b=(0,D.yj)(this,a.target);b&&(b.pd&&b.ri)&&(this.aa.KJ=b.ri().Zk());D.hT.o.Jy.call(this,a)};D.u.Om=function(a){this.aa.KJ=null;D.hT.o.Om.call(this,a)};D.u.Hh=function(a){var b=(0,D.yj)(this,a.target);(0,D.HT)(this,b);if(!b||!b.Aa||!b.Aa())for(var c in this.eA)if(this.eA[c].Km(null,a.ctrlKey)){var d=new D.zm([]);(0,D.xl)(d,"clientId",c);this.mb.call(this.sa,d)}D.hT.o.Hh.call(this,a);this.MW(b,a.pageX,a.pageY)};
D.u.MW=function(a,b,c){if(a instanceof D.QS){var d=a.uD();d?d.call():null!=a.Ae()?(0,D.IT)(this,a,b,c):a.pd()&&(this.aa.KJ=a.ri().Zk())}};D.IT=function(a,b,c,d){var e=new D.DS(b.Zk(),b.getId(),b.Ae());(0,D.xl)(e,"clientId",b.ri().Zk());null!=c&&null!=d&&(b=(0,D.Eu)(a.aa.j(),c,d),(0,D.xl)(e,"pointXY",{x:b.x,y:b.y}));a.Ac();a.mb.call(a.sa,e)};
D.HT=function(a,b){var c=null,d=null,e=null;b&&(b instanceof D.QS?e=b.ia():b instanceof D.ES&&(e=b),b.ri&&(d=b.ri(),c=d.Zk(),d=d.CQ.Gh));var f=a.aa;f.lm=d;f.Zw=c;f.OV=e};D.u=D.hT.prototype;D.u.Iy=function(a){a=(0,D.yj)(this,a.target);this.jh(a)&&(this.dn&&"none"!=this.dn)&&(a=new D.aT(D.aT.G1),this.mb.call(this.sa,a))};
D.u.Ih=function(a){var b=!0,c=a.keyCode,d=this.dd(),e=d.ia();9!=c&&this.Tw?(e.NL(a),a.preventDefault()):(48==c||96==c)&&a.ctrlKey&&a.shiftKey?(this.aa.Wca(),a.preventDefault()):220==c?((d=this.aa.Vc)&&(d instanceof D.zu?(0,D.Au)(d,!d.isCollapsed()):d instanceof D.jr&&d.wf(!d.Pa())),a.preventDefault()):13==c?d instanceof D.QS&&((e=d.uD())?e.call():null!=d.Ae()?(0,D.IT)(this,d):a.shiftKey?this.aa.iaa():this.aa.KZ(),a.preventDefault()):32==c&&a.ctrlKey?((0,D.HT)(this,d),(0,D.Uy)(this,d,!0),a.preventDefault()):
(48==c||96==c)&&a.ctrlKey?(a.altKey?(d=this.aa,e||(e=d.vpa),e||(e=d.OV),d.PG(e.F())):(0,D.qT)(this.aa),a.preventDefault()):9==c&&e instanceof D.yS?!a.shiftKey&&d.oc()?(d.ic(),e.NL(a),a.preventDefault(),this.Tw=!0):(a.shiftKey&&this.Tw?(this.KI(a,d),a.preventDefault()):(this.Tw&&d.Ud(),b=D.hT.o.Ih.call(this,a)),this.Tw=!1):b=D.hT.o.Ih.call(this,a);return b};
D.u.xB=function(a){if(!(0,D.nq)(this,a,"panned")){var b=(0,D.yj)(this,a.target);(0,D.HT)(this,b);if(b instanceof D.uS)for(var c in this.eA)if(this.eA[c].Km(null,a.ctrlKey)){for(var d=this.eA[c].getSelection(),e=[],f=0;f<d.length;f++)e.push(d[f].getId());d=new D.zm(e);this.mb.call(this.sa,d)}D.hT.o.xB.call(this,a);this.MW(b,a.Eo.pageX,a.Eo.pageY)}};D.u.q2=function(a){a=(0,D.yj)(this,a.target);this.aa.KJ=a&&a.pd&&a.ri?a.ri().Zk():null};
D.u.tfa=function(a){a=(0,D.yj)(this,a.target);this.aa.KJ=a&&a.pd&&a.ri?a.ri().Zk():null};D.u.tB=function(a){var b=(0,D.yj)(this,a.target);b&&(this.jh(b)&&this.dn&&"none"!=this.dn)&&((0,D.Uy)(this,b,a.ctrlKey),a=new D.aT(D.aT.G1),this.mb.call(this.sa,a))};D.u.fU=function(a,b){var c=(0,D.yj)(this,a.target);(0,D.HT)(this,c);D.hT.o.fU.call(this,a,b)};
D.u.dm=function(a,b,c){a=this.aa.q();"dim"==a.hoverBehavior&&(b=b.Lc?b.Lc():[],a.highlightedCategories=c?b.slice():null,c=new D.om(c?"categoryRollOver":"categoryRollOut",a.highlightedCategories),b=(0,D.Po)(a.styleDefaults.hoverBehaviorDelay),this.DB.Od(c,(0,D.RS)(this.aa).concat((0,D.dT)(this.aa)),b,"any"==a.highlightMatch))};D.u.zu=function(){var a=this.aa.q();return"none"!==a.panning||"none"!==a.zooming?"touchHold":"touchStart"===a.touchResponse?"touchStart":"auto"};
D.u.Gw=function(a){return"panned"==a?!1:D.hT.o.Gw.call(this,a)};
D.fT=function(a){this.Init(a)};D.w.l(D.fT,D.w,"DvtThematicMapJsonParser");D.fT.prototype.Init=function(a){this.aa=a;this.eX=!1;this.OE=null;this.XCa=(0,D.Ef)();this.kja={};this.lja={}};
D.fT.prototype.parse=function(a){var b=a.animationDuration;"string"==typeof b?"ms"==b.slice(-2)?b=(0,window.parseInt)(b.slice(0,-2))/1E3:"s"==b.slice(-1)&&(b=(0,window.parseFloat)(b.slice(0,-1))):b/=1E3;this.aa.mw(b);this.aa.Pha="auto"==a.animationOnDisplay?"alphaFade":a.animationOnDisplay;this.aa.Aza="auto"==a.animationOnMapChange?"alphaFade":a.animationOnMapChange;this.eX=null!=a.source;var b=this.aa,c=this.eX?"$"+a.basemap:a.basemap;b.l4=b.nk&&b.nk!=c;b.nk=c;this.aa.U0(a.featuresOff);this.aa.NO=
a.controlPanelBehavior;b=a.tooltipDisplay;"shortDesc"==b?b="shortDescOnly":"labelAndShortDesc"==b&&(b="auto");this.aa.yja=b;(b=a.popups)&&this.aa.VM(this.rm(b));this.aa.ida(a.drilling);this.aa.e4=a.animationOnDrill;this.aa.i7="auto"==a.initialZooming;this.aa.Iz="fixed"==a.markerZoomBehavior;this.aa.MK="auto"==a.panning;this.aa.QG="auto"==a.zooming;this.aa.dla=a.panX;this.aa.ela=a.panY;this.aa.h7=a.zoom;(0,window.isNaN)(a.maxZoom)||(b=window.Math.max(a.maxZoom,1),this.aa.AX=b);a._legend&&(this.aa.ux=
a._legend);b=a.styleDefaults;(0,D.cq)(this.aa,b);this.OE=new D.F(b.areaStyle);(0,D.Qf)(this.OE,b.labelStyle);this.Iza=new D.F(b.dropTargetStyle);this.aa.YY=b;if(this.eX&&a.sourceXml)for(var b=(new D.fj).parse(a.sourceXml).xc(),d,e,c=0;c<b.length;c++)if(d=b[c],e=d.getName(),"layer"==e){e=d;d=e.xc();e=e.v("id");for(var f=void 0,g=void 0,h=[],i=0;i<d.length;i++)if(f=d[i],g=f.getName(),"image"==g){g={};g.source=f.v("source");g.width=f.v("width");g.height=f.v("height");var k=f.v("bidi"),f=f.v("dir");g.dir=
"true"==k||"rtl"==f?"rtl":"ltr";h.push(g)}this.kja[e]=h}else if("points"==e){d=d.xc();h=e=void 0;i={};f={};for(g=0;g<d.length;g++)e=d[g],h=e.getName(),"point"==h&&(i[e.v("name")]=[e.v("x"),e.v("y")],f[e.v("name")]=[null,e.v("longLabel")]);D.xS.Oca(this.aa.nk,"cities",f,i,null,null,1)}b=a.areaLayers;c=this.aa.nk;for(d=0;d<b.length;d++)if(e=D.il.bd(b[d],D.FT),i=e.layer){e.areaStyle&&(0,D.Qf)(this.OE,e.areaStyle);e.labelStyle&&(0,D.Qf)(this.OE,e.labelStyle);if(this.eX){f=h=new D.SS(this.aa,i,e.labelDisplay,
e.labelType,this.aa.la());i=this.kja[i];k=null;g=(0,D.D)(f.aa.j());if(i&&0<i.length){var k=i[0].width,l=i[0].height;f.fDa=k;f.eDa=l;for(var m=[],n=0;n<i.length;n++)g&&"rtl"==i[n].dir?m.push(i[n]):!g&&"ltr"==i[n].dir&&m.push(i[n]);f.Jza=0<m.length?m:i;f.VW=(0,D.TS)(f);k=new D.Pe(f.aa.j(),f.VW,0,0,k,l)}k&&((0,D.IS)(f,{image:[null,null]}),f.zs={image:k})}else{h=new D.FS(this.aa,i,e.labelDisplay,e.labelType,this.aa.la());f=D.xS.fIa(c,i);g=h;n=f;k={};l=this.aa.j();m=void 0;for(m in n){k[m]=new D.Dh(l);
if((n=this.OE.A("border-color"))&&"transparent"!=n)n=new D.I(n),this.aa.Sf&&(n.Fc=!0),k[m].V(n);n=this.OE.A("background-color");"transparent"!=n?k[m].pa(n):k[m].L(null)}g.zs=k;(0,D.IS)(h,f);f=D.xS.eIa(c,i);h.lK=f;i=D.xS.sIa(this.aa.nk,i);h.sl=i}h.H7=this.OE;h.gP=this.Iza;h.cda("auto"==e.animationOnLayerChange?"alphaFade":e.animationOnLayerChange);h.mw(this.aa.xa());this.aa.Af.push(h);e.areaDataLayer&&(0,D.mT)(this,[e.areaDataLayer],h,null,!0);e.pointDataLayers&&(0,D.mT)(this,e.pointDataLayers,h,null,
!1)}(0,D.mT)(this,a.pointDataLayers,null,null,!1)};
D.mT=function(a,b,c,d,e){if(b)for(var f=0;f<b.length;f++){var g=D.il.bd(b[f],D.GT);if(g.markerDefs){var h=g.markerDefs,i;for(i in h)if(!a.lja[i]){var k=(new D.fj).parse(h[i]);a.lja[i]=D.vE.lHa(a.aa.j(),k)}}g.legend&&(a.aa.ux=g.legend);if(c){if(c instanceof D.FS&&e)for(h in e=c,h=void 0,e.xu)e.Dt[h]=!0,e.Ft[h]=!0}else c=new D.GS(a.aa,g.id,a.aa.la()),a.aa.Af.push(c);h=new D.US(a.aa,c,g.id,a.aa.la(),g);e=g.selectionMode;"single"==e?h.pw("s"):"multiple"==e&&h.pw("m");h.cda(g.animationOnDataChange);h.mw(a.aa.xa());
var l=null;c instanceof D.FS&&(l=g.isolatedItem);var m=g.disclosedItems,k=[],n;e=c instanceof D.FS;var o;g.popups&&(o=a.rm(g.popups));var p=a.aa.q().hiddenCategories,r=g.areas;if(r)for(var t=0;t<r.length;t++)if(p&&D.H.fu(p,r[t].categories))(0,D.ZS)(h,null);else{var v=r[t].location;if(l)if(l!=r[t].id)continue;else n=v;m&&-1!=D.H.wa(m,r[t].id)&&k.push(v);var z=a,L=c,J=h,v=r[t],G=v.location;if(L.zs[G]&&v.color){L.Dt[G]=!1;G=new D.zS(z.aa.j(),z.aa.Sf);v=D.il.bd(v,z.aa.YY.dataAreaDefaults);v.labelStyle||
(v.labelStyle=z.aa.YY.labelStyle);var O=new D.I(v.hoverColor,1,2),K=new D.I(v.selectedInnerColor,1,1),U=new D.I(v.selectedOuterColor,1,4);G.Mp(O,null).Op(K,U);O=new D.I(v.drilledInnerColor,1,2);U=new D.I(v.drilledOuterColor,1,4);K=G;K.mW=O;K.mW&&K.Sf&&(K.mW.Fc=!0);K.nW=U;K.nW&&K.Sf&&(K.nW.Fc=!0);L.Ft[v.location]=!1;(0,D.JT)(z,v,G);z=z.dF(L,J,v,G,!0);v=new D.PS(v,J,G,z)}else v=null;o&&v.VM(o);v&&(v.Jf(h.Aa()),(0,D.ZS)(h,v))}r=g.renderer;if((J=g.markers)&&!r)for(t=0;t<J.length;t++)if(p&&D.H.fu(p,J[t].categories))(0,D.YS)(h,
null);else{v=J[t].location;if(l)if(l!=J[t].id)continue;else n=v;v=a.dW(c,h,J[t],e);o&&v.VM(o);v&&(v.Jf(h.Aa()),(0,D.YS)(h,v))}if(p=g.images)for(t=0;t<p.length;t++){v=p[t].location;if(l)if(l!=p[t].id)continue;else n=v;v=a.p5(c,h,p[t],e);o&&v.VM(o);v&&(0,D.YS)(h,v)}if(r)for(t=0;t<J.length;t++){v=J[t].location;if(l)if(l!=J[t].id)continue;else n=v;m&&-1!=D.H.wa(m,J[t].id)&&k.push(v);p=a.aa.q()._contextHandler(a.aa.ta(),null,J[t],{hovered:!1,selected:!1,focused:!1},null);G=r(p);z=a;L=c;p=h;v=J[t];O=G;
K=e;(G=(0,D.KT)(p,v))?(K&&(L.Ft[v.location]=!1),z=new D.yS(z.aa.j(),O,z.aa.YY.dataAreaDefaults),v=new D.QS(v,p,z,null,G)):v=null;o&&v.VM(o);v&&(v.Jf(h.Aa()),(0,D.YS)(h,v))}if(n)for(t in h.uPa=l,l=c,m=n,l.hK=m,l.nK=null,t=void 0,l.zs)t!=m&&(l.Dt[t]=!1);if((g=g.selection)&&0<g.length)h.c7=g;k&&0<k.length&&(a.aa.BP[c.Gh]=[h.Zk(),k]);d?c.tda(h,a.aa.da.ba.ua(),d):c.Ej[h.Zk()]=h}};
D.fT.prototype.dW=function(a,b,c,d){var e=(0,D.KT)(b,c);if(!e)return null;var f=this.aa.YY.dataMarkerDefaults,g=new D.F(f.labelStyle);(0,D.Qf)(g,c.labelStyle);c=D.il.bd(c,f);c.labelStyle=g.toString();f=1;(0,window.isNaN)(c.scaleX)||(f=c.scaleX);g=1;(0,window.isNaN)(c.scaleY)||(g=c.scaleY);var h=c.width,i=c.height;if(!h||(0,window.isNaN)(h))h=this.aa.q().styleDefaults.dataMarkerDefaults.width;if(!i||(0,window.isNaN)(i))i=this.aa.q().styleDefaults.dataMarkerDefaults.height;if(c.source)f=new D.Xg(this.aa.j(),
e.x,e.y,h*f,i*g,c.source,c.sourceSelected,c.sourceHover,c.sourceHoverSelected);else var k=c.shape?c.shape:this.aa.q().styleDefaults.dataMarkerDefaults.shape,f=new D.Yg(this.aa.j(),k,this.aa.mc,e.x,e.y,h*f,i*g);(g=c.rotation)&&f.Yj(g*window.Math.PI/180);d&&(a.Ft[c.location]=!1);(0,D.JT)(this,c,f);a=this.dF(a,b,c,f,d);return new D.QS(c,b,f,a,e)};
D.fT.prototype.p5=function(a,b,c,d){var e=(0,D.KT)(b,c);if(!e)return null;var f=new D.Pe(this.aa.j(),c.url),g=c.width,h=c.height;null!=g&&null!=h&&(f.ca(e.x-g/2),f.va(e.y-h/2),f.ma(g),f.Da(h));d&&(a.Ft[c.location]=!1);var i=new D.QS(c,b,f,null,e);(!g||!h)&&D.Ce.Cn(this.aa.j(),c.url,function(a){a&&(a.width&&a.height)&&(f.ma(a.width),f.Da(a.height),f.ca(e.x-a.width/2),f.va(e.y-a.height/2),i.SU())});return i};
D.fT.prototype.dF=function(a,b,c,d,e){var f=c.location,g=c.label,h=g?"on":"off";e&&(h=a.j_());d=d instanceof D.Dh;if(!g&&e&&(d&&"off"!=h||!d&&"on"==h))g="long"==a.Ala?a.xu[f][1]:a.xu[f][0];if(g){var i=this.aa.j(),i=d?new D.KS(i,g,a.cra?a.cra(f):null,h,b.UO,this.aa.Sf):new D.Ff(i,g,0,0);b=new D.F;d&&b.bd(new D.F(a.H7));c.labelStyle&&(0,D.Qf)(b,c.labelStyle);a=b.A("color");b.W("color",null);i.Ha(b);if(i instanceof D.KS&&(!0===D.xo||!a))a=D.M.rj(c.color);a&&i.pa(a)}return i};
D.JT=function(a,b,c){var d=b.pattern,e=b.color,f=a.XCa||"alta"==a.aa.mc?"none":b.visualEffects;if(c instanceof D.Yg){if("none"!=b.borderStyle){var g=b.borderWidth;"string"==typeof g&&(g="px"==g.slice(-2)?(0,window.parseFloat)(b.borderWidth.slice(0,-2)):(0,window.parseFloat)(b.borderWidth));var h=new D.I(b.borderColor,1,g);a.aa.Iz||(h.Fc=!0);h.Ek((0,D.cg)(b.borderStyle));c.V(h)}g=b.opacity;"none"!=f?c.L(new D.$g.Ypa(e,c,g)):d?c.L(new D.Zg(d,e,"#FFFFFF")):e&&c.pa(e,g)}else if(c instanceof D.Dh){if(b=
b.borderColor)h=new D.I(b),a.aa.Sf&&(h.Fc=!0),c.V(h);d?(a=new D.Zg(d,e,"#FFFFFF"),c.BEa=a):c.pa(e,g)}};D.KT=function(a,b){var c=a.aa,d=c.nk,e=b.location;return e?((c=D.xS.cIa(d,a.CQ.Gh,e))||(c=D.xS.tIa(d,e)),c):D.Z.XMa(b.x,b.y,c.nk)};D.fT.prototype.rm=function(a){for(var b=[],c=0;c<a.length;c++)b.push(new D.Ai(a[c].popupId,a[c].triggerType,null,a[c].align));return b};
D.Z={};D.w.l(D.Z,D.w,"DvtThematicMapProjections");D.Z.Nw=new D.y(0,0,800,500);D.Z.OU=6378206.4;D.Z.F3=new D.y(500,200,200,200);D.Z.E3=new D.y(163,-49,17,17);D.Z.Jga=new D.y(-17.379205428479874,-37.201510854305546,68.66391442808313,77.50071544582713);D.Z.Mga=new D.y(-0.8436866097568272,-0.7626456732012923,1.8336308036296942,1.5748427214611724);D.Z.Nga=new D.y(113.29667079927977,-52.89550592498755,65.25257389065216,42.123114617504626);
D.Z.Zga=new D.y(-0.47944476148667076,-0.0014669405958800579,0.7364925893845453,0.6293972741802124);D.Z.nha=new D.y(-0.6154469465354344,-0.24589767758847714,1.2448236795108683,1.2631535127174947);D.Z.tha=new D.y(-80.60817722658722,-60.796273249672765,46.608687602908056,66.96595767361796);D.Z.Lga=new D.y(68.20516856593524,-52.89892708045518,111.65739821771903,116.55460214469134);D.Z.Yga=new D.y(-24.543831069368586,-37.202500659225905,204.54283106936856,164.9634493690208);
D.Z.lha=new D.y(-117.12451221229134,-54.95921623126266,82.33223251442891,87.67786623127876);D.Z.vha=new D.y(-0.6154656300926513,0.0507209798775865,1.0153104799231851,0.966537441082997);D.Z.xha=new D.y(-171.9,-62.6,349.8,150.8);D.Z.vwa=new D.y(172,51,8,3);D.Z.wwa=new D.y(-180,51,51,21);D.Z.Gxa=new D.y(-178.5,18.9,35,11);D.Z.Eya=new D.y(-124.8,24.4,58,25.5);D.Z.Kga=new D.y(-187.5517578125,59.82610321044922,57.562225341796875,43.83738708496094);
D.Z.fha=new D.y(-160.23606872558594,18.91549301147461,5.4374847412109375,3.3189010620117188);D.Z.uha=new D.y(-2386803.25,-1183550.5,4514111,2908402);D.Z.D3=new D.y(165,400,100,100);D.Z.A3=new D.y(-75,350,240,150);D.Z.Qn=[[1,0],[0.9986,0.0314],[0.9954,0.0629],[0.99,0.0943],[0.9822,0.1258],[0.973,0.1572],[0.96,0.1887],[0.9427,0.2201],[0.9216,0.2515],[0.8962,0.2826],[0.8679,0.3132],[0.835,0.3433],[0.7986,0.3726],[0.7597,0.4008],[0.6732,0.4532],[0.6213,0.4765],[0.5722,0.4951],[0.5322,0.5072]];
D.Z.XMa=function(a,b,c){var d;switch(c){case "africa":d=D.Z.Bz(D.Z.Jga,D.Z.sP(a,b));break;case "asia":d=D.Z.Bz(D.Z.Mga,D.Z.BW(40,95,20,60,a,b),D.Z.Zi(5));break;case "australia":d=D.Z.DBa(a,b);break;case "europe":d=D.Z.Bz(D.Z.Zga,D.Z.BW(35,25,40,65,a,b),D.Z.Zi(10));break;case "northAmerica":d=D.Z.Bz(D.Z.nha,D.Z.BW(23,-96,20,60,a,b));break;case "southAmerica":d=D.Z.Bz(D.Z.tha,new D.E(a,b),D.Z.Zi(5));break;case "apac":d=D.Z.Bz(D.Z.Lga,D.Z.sP(a,b));break;case "emea":d=D.Z.Bz(D.Z.Yga,D.Z.sP(a,b));break;
case "latinAmerica":d=D.Z.Bz(D.Z.lha,new D.E(a,b));break;case "usaAndCanada":d=D.Z.Bz(D.Z.vha,D.Z.BW(23,-96,20,60,a,b));break;case "worldRegions":d=D.Z.Kka(a,b);break;case "usa":d=D.Z.jCa(a,b);break;case "world":d=D.Z.Kka(a,b)}return d?new D.E(10*d.x,10*d.y):null};
D.Z.jCa=function(a,b){var c;(0,D.km)(D.Z.vwa,a,b)||(0,D.km)(D.Z.wwa,a,b)?(c=D.Z.pq(D.Z.Kga,D.Z.A3),c=D.Z.bO(c,D.Z.sP(a,b))):(0,D.km)(D.Z.Gxa,a,b)?(c=D.Z.pq(D.Z.fha,D.Z.D3),c=D.Z.bO(c,new D.E(a,b))):(0,D.km)(D.Z.Eya,a,b)&&(c=D.Z.pq(D.Z.uha,D.Z.Nw),c=D.Z.bO(c,D.Z.aCa(new D.E(-95,36),a,b)));return D.Z.DW(c)};D.Z.Kka=function(a,b){var c=D.Z.pq(D.Z.xha,D.Z.Nw),c=D.Z.bO(c,D.Z.eCa(a,b));return D.Z.DW(c)};
D.Z.DBa=function(a,b){var c;c=(0,D.km)(D.Z.E3,a,b)?D.Z.pq(D.Z.E3,D.Z.F3):D.Z.pq(D.Z.Nga,D.Z.Nw);c=D.Z.bO(c,D.Z.sP(a,b));return D.Z.DW(c)};D.Z.Bz=function(a,b,c){a=D.Z.pq(a,D.Z.Nw);if(c){var d=new D.bj;d.rotate(c);a=D.Z.Ria(a,d)}b=(0,D.xp)(a,b);return D.Z.DW(b)};D.Z.DW=function(a){var b=D.Z.Nw;return!a||!(0,D.km)(b,a.x,a.y)?null:a};
D.Z.BW=function(a,b,c,d,e,f){b=D.Z.Zi(b);a=D.Z.Zi(a);c=D.Z.Zi(c);d=D.Z.Zi(d);d=0.5*(window.Math.sin(c)+window.Math.sin(d));c=window.Math.pow(window.Math.cos(c),2)+2*d*window.Math.sin(c);a=c-2*d*window.Math.sin(a);a=window.Math.sqrt(a)/d;e=d*(D.Z.Zi(e)-b);f=c-2*d*window.Math.sin(D.Z.Zi(f));f=window.Math.sqrt(f)/d;return new D.E(f*window.Math.sin(e),a-f*window.Math.cos(e))};D.Z.sP=function(a,b){var c=window.Math.log(window.Math.tan(0.25*window.Math.PI+0.5*D.Z.Zi(b)));return new D.E(a,D.Z.$M(c))};
D.Z.aCa=function(a,b,c){b=D.Z.Zi(b);c=D.Z.Zi(c);var d=D.Z.Zi(a.x);a=D.Z.Zi(a.y);return new D.E(window.Math.cos(c)*window.Math.sin(b-d)*D.Z.OU,(window.Math.cos(a)*window.Math.sin(c)-window.Math.sin(a)*window.Math.cos(c)*window.Math.cos(b-d))*D.Z.OU)};
D.Z.eCa=function(a,b){var c=window.Math.floor(window.Math.abs(b)/5);c>=D.Z.Qn.length-1&&(c=D.Z.Qn.length-2);var d=(window.Math.abs(b)-5*c)/5,e=a*(D.Z.Qn[c][0]+d*(D.Z.Qn[c+1][0]-D.Z.Qn[c][0])),c=D.Z.Qn[c][1]+d*(D.Z.Qn[c+1][1]-D.Z.Qn[c][1]);0>b&&(c*=-1);return new D.E(e,180*c)};D.Z.bO=function(a,b){return new D.E(b.x*a.Dd+a.pc,b.y*a.hg+a.nc)};D.Z.Ria=function(a,b){var c=a.Dd,d=a.hg;return new D.bj(b.Dd*c,b.Mh*c,b.Yg*d,b.hg*d,a.pc+b.pc*c,a.nc+b.nc*d)};
D.Z.pq=function(a,b){var c=b.x,d=b.y,e=a.e,f=a.g,g=0,g=b.e/e,h=b.g/f,g=g<=h?g:h,c=c-a.x*g,d=d+a.y*g,c=c+(b.e-e*g)/2,d=d+(b.g-(b.g-f*g)/2);return new D.bj(g,0,0,-g,c,d)};D.Z.Zi=function(a){return a*(window.Math.PI/180)};D.Z.$M=function(a){return a*(180/window.Math.PI)};
D.Z.MLa=function(a,b,c){var d;a/=10;b/=10;switch(c){case "africa":d=D.Z.Cz(D.Z.Jga,new D.E(a,b));d=D.Z.qP(d.x,d.y);break;case "asia":d=D.Z.Cz(D.Z.Mga,new D.E(a,b),D.Z.Zi(5));d=D.Z.GW(40,95,20,60,d.x,d.y);break;case "australia":d=D.Z.QBa(a,b);break;case "europe":d=D.Z.Cz(D.Z.Zga,new D.E(a,b),D.Z.Zi(10));d=D.Z.GW(35,25,40,65,d.x,d.y);break;case "northAmerica":d=D.Z.Cz(D.Z.nha,new D.E(a,b));d=D.Z.GW(23,-96,20,60,d.x,d.y);break;case "southAmerica":d=D.Z.Cz(D.Z.tha,new D.E(a,b),D.Z.Zi(5));break;case "apac":d=
D.Z.Cz(D.Z.Lga,new D.E(a,b));d=D.Z.qP(d.x,d.y);break;case "emea":d=D.Z.Cz(D.Z.Yga,new D.E(a,b));d=D.Z.qP(d.x,d.y);break;case "latinAmerica":d=D.Z.Cz(D.Z.lha,new D.E(a,b));break;case "usaAndCanada":d=D.Z.Cz(D.Z.vha,new D.E(a,b));d=D.Z.GW(23,-96,20,60,d.x,d.y);break;case "worldRegions":d=D.Z.qka(a,b);break;case "usa":d=D.Z.TBa(a,b);break;case "world":d=D.Z.qka(a,b)}return d?d:new D.E(a,b)};
D.Z.TBa=function(a,b){var c;return(0,D.km)(D.Z.A3,a,b)?(c=D.Z.pq(D.Z.Kga,D.Z.A3),c.iy(),c=(0,D.xp)(c,new D.E(a,b)),D.Z.qP(c.x,c.y)):(0,D.km)(D.Z.D3,a,b)?(c=D.Z.pq(D.Z.fha,D.Z.D3),c.iy(),(0,D.xp)(c,new D.E(a,b))):(0,D.km)(D.Z.Nw,a,b)?(c=D.Z.pq(D.Z.uha,D.Z.Nw),c.iy(),c=(0,D.xp)(c,new D.E(a,b)),D.Z.RBa(new D.E(-95,36),c.x,c.y)):new D.E(a,b)};D.Z.qka=function(a,b){var c=D.Z.pq(D.Z.xha,D.Z.Nw);c.iy();c=(0,D.xp)(c,new D.E(a,b));return D.Z.SBa(c.x,c.y)};
D.Z.QBa=function(a,b){var c;c=(0,D.km)(D.Z.F3,a,b)?D.Z.pq(D.Z.E3,D.Z.F3):D.Z.pq(D.Z.Nga,D.Z.Nw);c.iy();c=(0,D.xp)(c,new D.E(a,b));return D.Z.qP(c.x,c.y)};D.Z.Cz=function(a,b,c){a=D.Z.pq(a,D.Z.Nw);if(c){var d=new D.bj;d.rotate(c);a=D.Z.Ria(a,d)}a.iy();return(0,D.xp)(a,b)};
D.Z.GW=function(a,b,c,d,e,f){b=D.Z.Zi(b);a=D.Z.Zi(a);c=D.Z.Zi(c);d=D.Z.Zi(d);d=0.5*(window.Math.sin(c)+window.Math.sin(d));c=window.Math.pow(window.Math.cos(c),2)+2*d*window.Math.sin(c);a=c-2*d*window.Math.sin(a);a=window.Math.sqrt(a)/d;var g=window.Math.sqrt(e*e+(a-f)*(a-f));return new D.E(D.Z.$M(b+window.Math.atan(e/(a-f))/d),D.Z.$M(window.Math.asin((c-g*g*d*d)/(2*d))))};D.Z.qP=function(a,b){return new D.E(a,D.Z.$M(2*window.Math.atan(window.Math.exp(D.Z.Zi(b)))-0.5*window.Math.PI))};
D.Z.RBa=function(a,b,c){b/=D.Z.OU;c/=D.Z.OU;var d=D.Z.Zi(a.y),e=window.Math.sqrt(b*b+c*c),f=window.Math.asin(e);return new D.E(D.Z.$M(D.Z.Zi(a.x)+window.Math.atan(b*window.Math.sin(f)/(e*window.Math.cos(d)*window.Math.cos(f)-c*window.Math.sin(d)*window.Math.sin(f)))),D.Z.$M(window.Math.asin(window.Math.cos(f)*window.Math.sin(d)+c*window.Math.sin(f)*window.Math.cos(d)/e)))};
D.Z.SBa=function(a,b){var c=window.Math.floor(window.Math.abs(b)/5);c>=D.Z.Qn.length-1&&(c=D.Z.Qn.length-2);var d=(window.Math.abs(b/180)-D.Z.Qn[c][1])/(D.Z.Qn[c+1][1]-D.Z.Qn[c][1]),e=5*d+5*c,c=a/(D.Z.Qn[c][0]+d*(D.Z.Qn[c+1][0]-D.Z.Qn[c][0]));0>b&&(e*=-1);return new D.E(c,e)};
D.rT=function(a,b,c){this.Init(a,b,c)};D.w.l(D.rT,D.Mt,"DvtThematicMapControlPanel");D.rT.prototype.Init=function(a,b,c){D.rT.o.Init.call(this,a,b,c);this.dn=b.dn;this.Wn=(0,D.mr)(b);this.lBa=D.w.vf(b,b.iaa);this.jBa=D.w.vf(b,b.KZ);this.CFa=D.w.vf(b,b.Wca);this.Br=this.Cr=this.Zz=null;this.Fja=this.Eja=!1;this.Z=b.hs()};D.sT=function(a,b){a.Eja=b;a.Br&&(0,D.Me)(a.Br,b)};D.tT=function(a,b){a.Fja=b;a.Cr&&(0,D.Me)(a.Cr,b)};
D.rT.prototype.ON=function(a){if(this.dn&&"none"!=this.dn){var b=(0,D.Vt)(this.Z,"buttonWidth",0);this.Zz=D.V.tHa(this.j(),this.Wn,this.Z);(0,D.Ah)(this.Zz,this.CFa,this);this.Zz.Dj((0,D.P)("DvtSubcomponentBundle","CONTROL_PANEL_RESET"));this.ea.Fa(this.Zz,this.Zz);a.k(this.Zz);this.Br=D.V.hHa(this.j(),this.Wn,this.Z);(0,D.Ah)(this.Br,this.jBa,this);this.Br.Dj((0,D.P)("DvtSubcomponentBundle","CONTROL_PANEL_DRILLDOWN"));this.ea.Fa(this.Br,this.Br);this.Br.I(b);(0,D.Me)(this.Br,this.Eja);a.k(this.Br);
this.Cr=D.V.iHa(this.j(),this.Wn,this.Z);(0,D.Ah)(this.Cr,this.lBa,this);this.Cr.Dj((0,D.P)("DvtSubcomponentBundle","CONTROL_PANEL_DRILLUP"));this.ea.Fa(this.Cr,this.Cr);this.Cr.I(2*b);(0,D.Me)(this.Cr,this.Fja);a.k(this.Cr)}};D.rT.prototype.Lq=function(a,b){var c=D.rT.o.Lq.call(this,a,b);!c&&this.Pa()&&("drillDown"==a&&this.Br&&this.Br.isEnabled()?c=this.Br:"drillUp"==a&&this.Cr&&this.Cr.isEnabled()?c=this.Cr:"reset"==a&&(this.Zz&&this.Zz.isEnabled())&&(c=this.Zz));return c};

  return D;
});